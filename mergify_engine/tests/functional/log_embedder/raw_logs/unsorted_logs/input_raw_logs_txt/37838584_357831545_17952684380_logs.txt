2023-10-23T08:17:59.4775248Z ##[group]Run # nosemgrep: generic.ci.security.use-frozen-lockfile.use-frozen-lockfile-pip
2023-10-23T08:17:59.4777284Z [36;1m# nosemgrep: generic.ci.security.use-frozen-lockfile.use-frozen-lockfile-pip[0m
2023-10-23T08:17:59.4778423Z [36;1mpip install -r requirements-poetry.txt[0m
2023-10-23T08:17:59.4779111Z [36;1mtools/poetry-ci-install.sh[0m
2023-10-23T08:17:59.4779684Z [36;1mpoetry run poe test \[0m
2023-10-23T08:17:59.4780199Z [36;1m  --splits 10 --group 2 \[0m
2023-10-23T08:17:59.4780751Z [36;1m  --store-durations \[0m
2023-10-23T08:17:59.4781399Z [36;1m  --durations-path engine-ci-test-durations \[0m
2023-10-23T08:17:59.4782203Z [36;1m  --splitting-algorithm=least_duration \[0m
2023-10-23T08:17:59.4782961Z [36;1m  --reruns 3 --only-rerun MissingEventTimeout[0m
2023-10-23T08:17:59.4867869Z shell: /usr/bin/bash -e {0}
2023-10-23T08:17:59.4868407Z env:
2023-10-23T08:17:59.4868913Z   pythonLocation: /opt/hostedtoolcache/Python/3.11.4/x64
2023-10-23T08:17:59.4869967Z   PKG_CONFIG_PATH: /opt/hostedtoolcache/Python/3.11.4/x64/lib/pkgconfig
2023-10-23T08:17:59.4870973Z   Python_ROOT_DIR: /opt/hostedtoolcache/Python/3.11.4/x64
2023-10-23T08:17:59.4871809Z   Python2_ROOT_DIR: /opt/hostedtoolcache/Python/3.11.4/x64
2023-10-23T08:17:59.4873351Z   Python3_ROOT_DIR: /opt/hostedtoolcache/Python/3.11.4/x64
2023-10-23T08:17:59.4874221Z   LD_LIBRARY_PATH: /opt/hostedtoolcache/Python/3.11.4/x64/lib
2023-10-23T08:17:59.4874916Z ##[endgroup]
2023-10-23T08:18:00.5514565Z Collecting poetry==1.6.1 (from -r requirements-poetry.txt (line 1))
2023-10-23T08:18:00.6556760Z   Downloading poetry-1.6.1-py3-none-any.whl.metadata (6.8 kB)
2023-10-23T08:18:00.7187848Z Collecting build<0.11.0,>=0.10.0 (from poetry==1.6.1->-r requirements-poetry.txt (line 1))
2023-10-23T08:18:00.7245415Z   Downloading build-0.10.0-py3-none-any.whl (17 kB)
2023-10-23T08:18:00.7686163Z Collecting cachecontrol<0.14.0,>=0.13.0 (from cachecontrol[filecache]<0.14.0,>=0.13.0->poetry==1.6.1->-r requirements-poetry.txt (line 1))
2023-10-23T08:18:00.7735312Z   Downloading cachecontrol-0.13.1-py3-none-any.whl.metadata (3.0 kB)
2023-10-23T08:18:00.8136554Z Collecting cleo<3.0.0,>=2.0.0 (from poetry==1.6.1->-r requirements-poetry.txt (line 1))
2023-10-23T08:18:00.8186163Z   Downloading cleo-2.0.1-py3-none-any.whl (77 kB)
2023-10-23T08:18:00.8564162Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 77.3/77.3 kB 2.0 MB/s eta 0:00:00
2023-10-23T08:18:00.8777800Z Collecting crashtest<0.5.0,>=0.4.1 (from poetry==1.6.1->-r requirements-poetry.txt (line 1))
2023-10-23T08:18:00.8824400Z   Downloading crashtest-0.4.1-py3-none-any.whl (7.6 kB)
2023-10-23T08:18:01.0370687Z Collecting dulwich<0.22.0,>=0.21.2 (from poetry==1.6.1->-r requirements-poetry.txt (line 1))
2023-10-23T08:18:01.0417613Z   Downloading dulwich-0.21.6-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (4.3 kB)
2023-10-23T08:18:01.0734218Z Collecting installer<0.8.0,>=0.7.0 (from poetry==1.6.1->-r requirements-poetry.txt (line 1))
2023-10-23T08:18:01.0781385Z   Downloading installer-0.7.0-py3-none-any.whl (453 kB)
2023-10-23T08:18:01.1007074Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 453.8/453.8 kB 23.3 MB/s eta 0:00:00
2023-10-23T08:18:01.1520937Z Collecting jsonschema<4.18.0,>=4.10.0 (from poetry==1.6.1->-r requirements-poetry.txt (line 1))
2023-10-23T08:18:01.1562600Z   Downloading jsonschema-4.17.3-py3-none-any.whl (90 kB)
2023-10-23T08:18:01.1628694Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 90.4/90.4 kB 20.5 MB/s eta 0:00:00
2023-10-23T08:18:01.2338957Z Collecting keyring<25.0.0,>=24.0.0 (from poetry==1.6.1->-r requirements-poetry.txt (line 1))
2023-10-23T08:18:01.2380711Z   Downloading keyring-24.2.0-py3-none-any.whl.metadata (20 kB)
2023-10-23T08:18:01.2769722Z Collecting packaging>=20.4 (from poetry==1.6.1->-r requirements-poetry.txt (line 1))
2023-10-23T08:18:01.2810662Z   Downloading packaging-23.2-py3-none-any.whl.metadata (3.2 kB)
2023-10-23T08:18:01.3029474Z Collecting pexpect<5.0.0,>=4.7.0 (from poetry==1.6.1->-r requirements-poetry.txt (line 1))
2023-10-23T08:18:01.3067461Z   Downloading pexpect-4.8.0-py2.py3-none-any.whl (59 kB)
2023-10-23T08:18:01.3129512Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 59.0/59.0 kB 13.7 MB/s eta 0:00:00
2023-10-23T08:18:01.3383449Z Collecting pkginfo<2.0.0,>=1.9.4 (from poetry==1.6.1->-r requirements-poetry.txt (line 1))
2023-10-23T08:18:01.3420469Z   Downloading pkginfo-1.9.6-py3-none-any.whl (30 kB)
2023-10-23T08:18:01.3772878Z Collecting platformdirs<4.0.0,>=3.0.0 (from poetry==1.6.1->-r requirements-poetry.txt (line 1))
2023-10-23T08:18:01.3813608Z   Downloading platformdirs-3.11.0-py3-none-any.whl.metadata (11 kB)
2023-10-23T08:18:01.4265096Z Collecting poetry-core==1.7.0 (from poetry==1.6.1->-r requirements-poetry.txt (line 1))
2023-10-23T08:18:01.4303307Z   Downloading poetry_core-1.7.0-py3-none-any.whl.metadata (3.4 kB)
2023-10-23T08:18:01.4566869Z Collecting poetry-plugin-export<2.0.0,>=1.5.0 (from poetry==1.6.1->-r requirements-poetry.txt (line 1))
2023-10-23T08:18:01.4603674Z   Downloading poetry_plugin_export-1.5.0-py3-none-any.whl.metadata (2.7 kB)
2023-10-23T08:18:01.4805333Z Collecting pyproject-hooks<2.0.0,>=1.0.0 (from poetry==1.6.1->-r requirements-poetry.txt (line 1))
2023-10-23T08:18:01.4843046Z   Downloading pyproject_hooks-1.0.0-py3-none-any.whl (9.3 kB)
2023-10-23T08:18:01.5411396Z Collecting requests<3.0,>=2.26 (from poetry==1.6.1->-r requirements-poetry.txt (line 1))
2023-10-23T08:18:01.5458488Z   Downloading requests-2.31.0-py3-none-any.whl.metadata (4.6 kB)
2023-10-23T08:18:01.5755078Z Collecting requests-toolbelt<2,>=0.9.1 (from poetry==1.6.1->-r requirements-poetry.txt (line 1))
2023-10-23T08:18:01.5802318Z   Downloading requests_toolbelt-1.0.0-py2.py3-none-any.whl (54 kB)
2023-10-23T08:18:01.5874231Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 54.5/54.5 kB 10.4 MB/s eta 0:00:00
2023-10-23T08:18:01.6196516Z Collecting shellingham<2.0,>=1.5 (from poetry==1.6.1->-r requirements-poetry.txt (line 1))
2023-10-23T08:18:01.6241346Z   Downloading shellingham-1.5.3-py2.py3-none-any.whl.metadata (3.4 kB)
2023-10-23T08:18:01.6725581Z Collecting tomlkit<1.0.0,>=0.11.4 (from poetry==1.6.1->-r requirements-poetry.txt (line 1))
2023-10-23T08:18:01.6774294Z   Downloading tomlkit-0.12.1-py3-none-any.whl.metadata (2.7 kB)
2023-10-23T08:18:01.7161584Z Collecting trove-classifiers>=2022.5.19 (from poetry==1.6.1->-r requirements-poetry.txt (line 1))
2023-10-23T08:18:01.7209060Z   Downloading trove_classifiers-2023.10.18-py3-none-any.whl.metadata (2.2 kB)
2023-10-23T08:18:01.8448482Z Collecting virtualenv<21.0.0,>=20.22.0 (from poetry==1.6.1->-r requirements-poetry.txt (line 1))
2023-10-23T08:18:01.8496742Z   Downloading virtualenv-20.24.5-py3-none-any.whl.metadata (4.5 kB)
2023-10-23T08:18:02.0197089Z Collecting msgpack>=0.5.2 (from cachecontrol<0.14.0,>=0.13.0->cachecontrol[filecache]<0.14.0,>=0.13.0->poetry==1.6.1->-r requirements-poetry.txt (line 1))
2023-10-23T08:18:02.0238436Z   Downloading msgpack-1.0.7-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (9.1 kB)
2023-10-23T08:18:02.0863640Z Collecting filelock>=3.8.0 (from cachecontrol[filecache]<0.14.0,>=0.13.0->poetry==1.6.1->-r requirements-poetry.txt (line 1))
2023-10-23T08:18:02.0903311Z   Downloading filelock-3.12.4-py3-none-any.whl.metadata (2.8 kB)
2023-10-23T08:18:02.7437310Z Collecting rapidfuzz<3.0.0,>=2.2.0 (from cleo<3.0.0,>=2.0.0->poetry==1.6.1->-r requirements-poetry.txt (line 1))
2023-10-23T08:18:02.7481235Z   Downloading rapidfuzz-2.15.2-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (9.0 kB)
2023-10-23T08:18:02.8282545Z Collecting urllib3>=1.25 (from dulwich<0.22.0,>=0.21.2->poetry==1.6.1->-r requirements-poetry.txt (line 1))
2023-10-23T08:18:02.8328402Z   Downloading urllib3-2.0.7-py3-none-any.whl.metadata (6.6 kB)
2023-10-23T08:18:02.9023090Z Collecting attrs>=17.4.0 (from jsonschema<4.18.0,>=4.10.0->poetry==1.6.1->-r requirements-poetry.txt (line 1))
2023-10-23T08:18:02.9113198Z   Downloading attrs-23.1.0-py3-none-any.whl (61 kB)
2023-10-23T08:18:02.9206867Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 61.2/61.2 kB 7.8 MB/s eta 0:00:00
2023-10-23T08:18:02.9623503Z Collecting pyrsistent!=0.17.0,!=0.17.1,!=0.17.2,>=0.14.0 (from jsonschema<4.18.0,>=4.10.0->poetry==1.6.1->-r requirements-poetry.txt (line 1))
2023-10-23T08:18:02.9665135Z   Downloading pyrsistent-0.19.3-py3-none-any.whl (57 kB)
2023-10-23T08:18:02.9739330Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 57.5/57.5 kB 9.7 MB/s eta 0:00:00
2023-10-23T08:18:03.0717728Z Collecting jaraco.classes (from keyring<25.0.0,>=24.0.0->poetry==1.6.1->-r requirements-poetry.txt (line 1))
2023-10-23T08:18:03.0871910Z   Downloading jaraco.classes-3.3.0-py3-none-any.whl.metadata (2.9 kB)
2023-10-23T08:18:03.1618403Z Collecting importlib-metadata>=4.11.4 (from keyring<25.0.0,>=24.0.0->poetry==1.6.1->-r requirements-poetry.txt (line 1))
2023-10-23T08:18:03.1669228Z   Downloading importlib_metadata-6.8.0-py3-none-any.whl.metadata (5.1 kB)
2023-10-23T08:18:03.1946232Z Collecting SecretStorage>=3.2 (from keyring<25.0.0,>=24.0.0->poetry==1.6.1->-r requirements-poetry.txt (line 1))
2023-10-23T08:18:03.1987754Z   Downloading SecretStorage-3.3.3-py3-none-any.whl (15 kB)
2023-10-23T08:18:03.2247368Z Collecting jeepney>=0.4.2 (from keyring<25.0.0,>=24.0.0->poetry==1.6.1->-r requirements-poetry.txt (line 1))
2023-10-23T08:18:03.2294996Z   Downloading jeepney-0.8.0-py3-none-any.whl (48 kB)
2023-10-23T08:18:03.2360211Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 48.4/48.4 kB 9.7 MB/s eta 0:00:00
2023-10-23T08:18:03.2624017Z Collecting ptyprocess>=0.5 (from pexpect<5.0.0,>=4.7.0->poetry==1.6.1->-r requirements-poetry.txt (line 1))
2023-10-23T08:18:03.2664233Z   Downloading ptyprocess-0.7.0-py2.py3-none-any.whl (13 kB)
2023-10-23T08:18:03.4251394Z Collecting charset-normalizer<4,>=2 (from requests<3.0,>=2.26->poetry==1.6.1->-r requirements-poetry.txt (line 1))
2023-10-23T08:18:03.4304520Z   Downloading charset_normalizer-3.3.1-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (33 kB)
2023-10-23T08:18:03.4614397Z Collecting idna<4,>=2.5 (from requests<3.0,>=2.26->poetry==1.6.1->-r requirements-poetry.txt (line 1))
2023-10-23T08:18:03.4655601Z   Downloading idna-3.4-py3-none-any.whl (61 kB)
2023-10-23T08:18:03.4721918Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 61.5/61.5 kB 12.3 MB/s eta 0:00:00
2023-10-23T08:18:03.5168952Z Collecting certifi>=2017.4.17 (from requests<3.0,>=2.26->poetry==1.6.1->-r requirements-poetry.txt (line 1))
2023-10-23T08:18:03.5216620Z   Downloading certifi-2023.7.22-py3-none-any.whl.metadata (2.2 kB)
2023-10-23T08:18:03.6161128Z Collecting distlib<1,>=0.3.7 (from virtualenv<21.0.0,>=20.22.0->poetry==1.6.1->-r requirements-poetry.txt (line 1))
2023-10-23T08:18:03.6207792Z   Downloading distlib-0.3.7-py2.py3-none-any.whl.metadata (5.1 kB)
2023-10-23T08:18:03.7829671Z Collecting zipp>=0.5 (from importlib-metadata>=4.11.4->keyring<25.0.0,>=24.0.0->poetry==1.6.1->-r requirements-poetry.txt (line 1))
2023-10-23T08:18:03.7882291Z   Downloading zipp-3.17.0-py3-none-any.whl.metadata (3.7 kB)
2023-10-23T08:18:04.0638159Z Collecting cryptography>=2.0 (from SecretStorage>=3.2->keyring<25.0.0,>=24.0.0->poetry==1.6.1->-r requirements-poetry.txt (line 1))
2023-10-23T08:18:04.0683755Z   Downloading cryptography-41.0.4-cp37-abi3-manylinux_2_28_x86_64.whl.metadata (5.2 kB)
2023-10-23T08:18:04.1493260Z Collecting more-itertools (from jaraco.classes->keyring<25.0.0,>=24.0.0->poetry==1.6.1->-r requirements-poetry.txt (line 1))
2023-10-23T08:18:04.1534856Z   Downloading more_itertools-10.1.0-py3-none-any.whl.metadata (33 kB)
2023-10-23T08:18:04.3232629Z Collecting cffi>=1.12 (from cryptography>=2.0->SecretStorage>=3.2->keyring<25.0.0,>=24.0.0->poetry==1.6.1->-r requirements-poetry.txt (line 1))
2023-10-23T08:18:04.3282673Z   Downloading cffi-1.16.0-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (1.5 kB)
2023-10-23T08:18:04.4512874Z Collecting pycparser (from cffi>=1.12->cryptography>=2.0->SecretStorage>=3.2->keyring<25.0.0,>=24.0.0->poetry==1.6.1->-r requirements-poetry.txt (line 1))
2023-10-23T08:18:04.4553838Z   Downloading pycparser-2.21-py2.py3-none-any.whl (118 kB)
2023-10-23T08:18:04.4621581Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 118.7/118.7 kB 26.9 MB/s eta 0:00:00
2023-10-23T08:18:04.4866032Z Downloading poetry-1.6.1-py3-none-any.whl (232 kB)
2023-10-23T08:18:04.4968671Z    â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 232.8/232.8 kB 29.2 MB/s eta 0:00:00
2023-10-23T08:18:04.5014952Z Downloading poetry_core-1.7.0-py3-none-any.whl (426 kB)
2023-10-23T08:18:04.5134091Z    â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 426.4/426.4 kB 47.3 MB/s eta 0:00:00
2023-10-23T08:18:04.5178592Z Downloading cachecontrol-0.13.1-py3-none-any.whl (22 kB)
2023-10-23T08:18:04.5298993Z Downloading dulwich-0.21.6-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (513 kB)
2023-10-23T08:18:04.5409700Z    â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 513.8/513.8 kB 59.2 MB/s eta 0:00:00
2023-10-23T08:18:04.5447418Z Downloading keyring-24.2.0-py3-none-any.whl (37 kB)
2023-10-23T08:18:04.5532714Z Downloading packaging-23.2-py3-none-any.whl (53 kB)
2023-10-23T08:18:04.5601033Z    â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 53.0/53.0 kB 9.7 MB/s eta 0:00:00
2023-10-23T08:18:04.5642156Z Downloading platformdirs-3.11.0-py3-none-any.whl (17 kB)
2023-10-23T08:18:04.5714878Z Downloading poetry_plugin_export-1.5.0-py3-none-any.whl (10 kB)
2023-10-23T08:18:04.5786590Z Downloading requests-2.31.0-py3-none-any.whl (62 kB)
2023-10-23T08:18:04.5853716Z    â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 62.6/62.6 kB 12.4 MB/s eta 0:00:00
2023-10-23T08:18:04.5895437Z Downloading shellingham-1.5.3-py2.py3-none-any.whl (9.7 kB)
2023-10-23T08:18:04.5973719Z Downloading tomlkit-0.12.1-py3-none-any.whl (37 kB)
2023-10-23T08:18:04.6053132Z Downloading trove_classifiers-2023.10.18-py3-none-any.whl (13 kB)
2023-10-23T08:18:04.6128165Z Downloading virtualenv-20.24.5-py3-none-any.whl (3.7 MB)
2023-10-23T08:18:04.6505324Z    â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 3.7/3.7 MB 107.5 MB/s eta 0:00:00
2023-10-23T08:18:04.6556739Z Downloading certifi-2023.7.22-py3-none-any.whl (158 kB)
2023-10-23T08:18:04.6633816Z    â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 158.3/158.3 kB 29.4 MB/s eta 0:00:00
2023-10-23T08:18:04.6678992Z Downloading charset_normalizer-3.3.1-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (137 kB)
2023-10-23T08:18:04.6754174Z    â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 137.5/137.5 kB 25.1 MB/s eta 0:00:00
2023-10-23T08:18:04.6796216Z Downloading distlib-0.3.7-py2.py3-none-any.whl (468 kB)
2023-10-23T08:18:04.6887921Z    â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 468.9/468.9 kB 64.9 MB/s eta 0:00:00
2023-10-23T08:18:04.6924532Z Downloading filelock-3.12.4-py3-none-any.whl (11 kB)
2023-10-23T08:18:04.7008772Z Downloading importlib_metadata-6.8.0-py3-none-any.whl (22 kB)
2023-10-23T08:18:04.7137803Z Downloading msgpack-1.0.7-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (557 kB)
2023-10-23T08:18:04.7246050Z    â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 558.0/558.0 kB 68.4 MB/s eta 0:00:00
2023-10-23T08:18:04.7286083Z Downloading rapidfuzz-2.15.2-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)
2023-10-23T08:18:04.7693810Z    â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 3.0/3.0 MB 79.4 MB/s eta 0:00:00
2023-10-23T08:18:04.7738498Z Downloading urllib3-2.0.7-py3-none-any.whl (124 kB)
2023-10-23T08:18:04.7817345Z    â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 124.2/124.2 kB 21.6 MB/s eta 0:00:00
2023-10-23T08:18:04.7860562Z Downloading jaraco.classes-3.3.0-py3-none-any.whl (5.9 kB)
2023-10-23T08:18:04.7935820Z Downloading cryptography-41.0.4-cp37-abi3-manylinux_2_28_x86_64.whl (4.4 MB)
2023-10-23T08:18:04.8350536Z    â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 4.4/4.4 MB 112.5 MB/s eta 0:00:00
2023-10-23T08:18:04.8399554Z Downloading zipp-3.17.0-py3-none-any.whl (7.4 kB)
2023-10-23T08:18:04.8478733Z Downloading more_itertools-10.1.0-py3-none-any.whl (55 kB)
2023-10-23T08:18:04.8550543Z    â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 55.8/55.8 kB 9.3 MB/s eta 0:00:00
2023-10-23T08:18:04.8604103Z Downloading cffi-1.16.0-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (464 kB)
2023-10-23T08:18:04.8696197Z    â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 464.8/464.8 kB 65.6 MB/s eta 0:00:00
2023-10-23T08:18:05.3237888Z Installing collected packages: trove-classifiers, ptyprocess, distlib, zipp, urllib3, tomlkit, shellingham, rapidfuzz, pyrsistent, pyproject-hooks, pycparser, poetry-core, platformdirs, pkginfo, pexpect, packaging, msgpack, more-itertools, jeepney, installer, idna, filelock, crashtest, charset-normalizer, certifi, attrs, virtualenv, requests, jsonschema, jaraco.classes, importlib-metadata, dulwich, cleo, cffi, build, requests-toolbelt, cryptography, cachecontrol, SecretStorage, keyring, poetry-plugin-export, poetry
2023-10-23T08:18:08.8806280Z Successfully installed SecretStorage-3.3.3 attrs-23.1.0 build-0.10.0 cachecontrol-0.13.1 certifi-2023.7.22 cffi-1.16.0 charset-normalizer-3.3.1 cleo-2.0.1 crashtest-0.4.1 cryptography-41.0.4 distlib-0.3.7 dulwich-0.21.6 filelock-3.12.4 idna-3.4 importlib-metadata-6.8.0 installer-0.7.0 jaraco.classes-3.3.0 jeepney-0.8.0 jsonschema-4.17.3 keyring-24.2.0 more-itertools-10.1.0 msgpack-1.0.7 packaging-23.2 pexpect-4.8.0 pkginfo-1.9.6 platformdirs-3.11.0 poetry-1.6.1 poetry-core-1.7.0 poetry-plugin-export-1.5.0 ptyprocess-0.7.0 pycparser-2.21 pyproject-hooks-1.0.0 pyrsistent-0.19.3 rapidfuzz-2.15.2 requests-2.31.0 requests-toolbelt-1.0.0 shellingham-1.5.3 tomlkit-0.12.1 trove-classifiers-2023.10.18 urllib3-2.0.7 virtualenv-20.24.5 zipp-3.17.0
2023-10-23T08:18:09.9083630Z Creating virtualenv mergify-engine-cHHEL7M--py3.11 in /home/runner/.cache/pypoetry/virtualenvs
2023-10-23T08:18:10.4742716Z Installing dependencies from lock file
2023-10-23T08:18:11.4457710Z 
2023-10-23T08:18:11.4463519Z Package operations: 177 installs, 0 updates, 0 removals
2023-10-23T08:18:11.4464263Z 
2023-10-23T08:18:11.4470839Z   â€¢ Installing pyasn1 (0.5.0)
2023-10-23T08:18:12.2250541Z   â€¢ Installing attrs (23.1.0)
2023-10-23T08:18:12.2275377Z   â€¢ Installing cachetools (5.3.1)
2023-10-23T08:18:12.2308119Z   â€¢ Installing certifi (2023.7.22)
2023-10-23T08:18:12.2324536Z   â€¢ Installing charset-normalizer (3.3.1)
2023-10-23T08:18:12.2341184Z   â€¢ Installing idna (3.4)
2023-10-23T08:18:12.2426062Z   â€¢ Installing protobuf (4.24.4)
2023-10-23T08:18:12.2740671Z   â€¢ Installing pyasn1-modules (0.3.0)
2023-10-23T08:18:12.3327395Z   â€¢ Installing pycparser (2.21)
2023-10-23T08:18:12.3561193Z   â€¢ Installing rpds-py (0.10.6)
2023-10-23T08:18:12.4846487Z   â€¢ Installing rsa (4.9)
2023-10-23T08:18:12.5062662Z   â€¢ Installing sniffio (1.3.0)
2023-10-23T08:18:12.5213318Z   â€¢ Installing typing-extensions (4.8.0)
2023-10-23T08:18:12.5351937Z   â€¢ Installing urllib3 (1.26.18)
2023-10-23T08:18:13.1044203Z   â€¢ Installing annotated-types (0.6.0)
2023-10-23T08:18:13.1058997Z   â€¢ Installing anyio (3.7.1)
2023-10-23T08:18:13.1079661Z   â€¢ Installing boltons (21.0.0)
2023-10-23T08:18:13.1095500Z   â€¢ Installing cffi (1.16.0)
2023-10-23T08:18:13.1124077Z   â€¢ Installing google-auth (2.23.3)
2023-10-23T08:18:13.1133390Z   â€¢ Installing googleapis-common-protos (1.61.0)
2023-10-23T08:18:13.1661824Z   â€¢ Installing h11 (0.14.0)
2023-10-23T08:18:13.2112170Z   â€¢ Installing markupsafe (2.1.3)
2023-10-23T08:18:13.2211919Z   â€¢ Installing mdurl (0.1.2)
2023-10-23T08:18:13.2227946Z   â€¢ Installing pydantic-core (2.10.1)
2023-10-23T08:18:13.2646994Z   â€¢ Installing referencing (0.30.2)
2023-10-23T08:18:13.2921442Z   â€¢ Installing requests (2.31.0)
2023-10-23T08:18:13.3388615Z   â€¢ Installing wrapt (1.15.0)
2023-10-23T08:18:13.3660891Z   â€¢ Installing zipp (3.17.0)
2023-10-23T08:18:13.5551278Z   â€¢ Installing alabaster (0.7.13)
2023-10-23T08:18:13.5568295Z   â€¢ Installing babel (2.13.0)
2023-10-23T08:18:13.5581851Z   â€¢ Installing bracex (2.4)
2023-10-23T08:18:13.5593010Z   â€¢ Installing cryptography (41.0.4)
2023-10-23T08:18:13.5622516Z   â€¢ Installing click (8.1.7)
2023-10-23T08:18:13.5683525Z   â€¢ Installing deprecated (1.2.14)
2023-10-23T08:18:13.6224577Z   â€¢ Installing docutils (0.20.1)
2023-10-23T08:18:13.6429495Z   â€¢ Installing face (22.0.0)
2023-10-23T08:18:13.6660028Z   â€¢ Installing google-api-core (2.12.0)
2023-10-23T08:18:13.6913055Z   â€¢ Installing google-crc32c (1.5.0)
2023-10-23T08:18:13.7550802Z   â€¢ Installing hpack (4.0.0)
2023-10-23T08:18:13.7846757Z   â€¢ Installing httpcore (0.18.0)
2023-10-23T08:18:13.7982710Z   â€¢ Installing hyperframe (6.0.1)
2023-10-23T08:18:13.8604882Z   â€¢ Installing imagesize (1.4.1)
2023-10-23T08:18:13.8950104Z   â€¢ Installing importlib-metadata (6.8.0)
2023-10-23T08:18:13.9246044Z   â€¢ Installing iniconfig (2.0.0)
2023-10-23T08:18:13.9283046Z   â€¢ Installing jinja2 (3.1.2)
2023-10-23T08:18:13.9680201Z   â€¢ Installing jsonschema-specifications (2023.7.1)
2023-10-23T08:18:13.9747091Z   â€¢ Installing mako (1.2.4)
2023-10-23T08:18:14.1254634Z   â€¢ Installing markdown-it-py (3.0.0)
2023-10-23T08:18:14.1584805Z   â€¢ Installing multidict (6.0.4)
2023-10-23T08:18:14.1869444Z   â€¢ Installing packaging (23.2)
2023-10-23T08:18:14.2461182Z   â€¢ Installing pluggy (1.3.0)
2023-10-23T08:18:14.2716872Z   â€¢ Installing pydantic (2.4.2)
2023-10-23T08:18:14.3073100Z   â€¢ Installing pygments (2.16.1)
2023-10-23T08:18:14.3481998Z   â€¢ Installing ruamel-yaml-clib (0.2.8)
2023-10-23T08:18:14.3816720Z   â€¢ Installing six (1.16.0)
2023-10-23T08:18:14.4561867Z   â€¢ Installing snowballstemmer (2.2.0)
2023-10-23T08:18:14.5503152Z   â€¢ Installing soupsieve (2.5)
2023-10-23T08:18:14.5777853Z   â€¢ Installing sphinxcontrib-applehelp (1.0.7)
2023-10-23T08:18:14.5812827Z   â€¢ Installing sphinxcontrib-devhelp (1.0.5)
2023-10-23T08:18:14.6157044Z   â€¢ Installing sphinxcontrib-htmlhelp (2.0.4)
2023-10-23T08:18:14.7860535Z   â€¢ Installing sphinxcontrib-jsmath (1.0.1)
2023-10-23T08:18:14.8562871Z   â€¢ Installing sphinxcontrib-qthelp (1.0.6)
2023-10-23T08:18:14.8615462Z   â€¢ Installing sphinxcontrib-serializinghtml (1.1.9)
2023-10-23T08:18:14.8724496Z   â€¢ Installing sqlalchemy (2.0.22)
2023-10-23T08:18:15.0498653Z   â€¢ Installing starlette (0.27.0)
2023-10-23T08:18:15.0675009Z   â€¢ Installing ujson (5.8.0)
2023-10-23T08:18:15.6268327Z   â€¢ Installing alembic (1.12.0)
2023-10-23T08:18:15.6285673Z   â€¢ Installing beautifulsoup4 (4.12.2)
2023-10-23T08:18:15.6300377Z   â€¢ Installing bytecode (0.15.1)
2023-10-23T08:18:15.6301839Z   â€¢ Installing cattrs (23.1.2)
2023-10-23T08:18:15.6335602Z   â€¢ Installing click-option-group (0.5.6)
2023-10-23T08:18:15.6373271Z   â€¢ Installing colorama (0.4.6)
2023-10-23T08:18:15.6892735Z   â€¢ Installing coverage (7.3.2)
2023-10-23T08:18:15.7050495Z   â€¢ Installing ddsketch (2.0.4)
2023-10-23T08:18:15.7294782Z   â€¢ Installing defusedxml (0.7.1)
2023-10-23T08:18:15.7441966Z   â€¢ Installing dulwich (0.21.6)
2023-10-23T08:18:15.7750392Z   â€¢ Installing envier (0.4.0)
2023-10-23T08:18:15.8012333Z   â€¢ Installing execnet (2.0.2)
2023-10-23T08:18:15.8604993Z   â€¢ Installing fastapi (0.104.0)
2023-10-23T08:18:15.8642394Z   â€¢ Installing flupy (1.2.0)
2023-10-23T08:18:15.8809209Z   â€¢ Installing glom (22.1.0)
2023-10-23T08:18:15.9127848Z   â€¢ Installing google-cloud-core (2.3.3)
2023-10-23T08:18:15.9453716Z   â€¢ Installing google-resumable-media (2.6.0)
2023-10-23T08:18:15.9864316Z   â€¢ Installing greenlet (3.0.0)
2023-10-23T08:18:16.0308773Z   â€¢ Installing h2 (4.1.0)
2023-10-23T08:18:16.0755535Z   â€¢ Installing httptools (0.6.1)
2023-10-23T08:18:16.0994541Z   â€¢ Installing httpx (0.25.0)
2023-10-23T08:18:16.1161791Z   â€¢ Installing itsdangerous (2.1.2)
2023-10-23T08:18:16.1417679Z   â€¢ Installing jsonschema (4.19.1)
2023-10-23T08:18:16.1925729Z   â€¢ Installing mypy-extensions (1.0.0)
2023-10-23T08:18:16.2054337Z   â€¢ Installing numpy (1.26.1)
2023-10-23T08:18:16.2332416Z   â€¢ Installing opentelemetry-api (1.20.0)
2023-10-23T08:18:16.3598440Z   â€¢ Installing ordered-set (4.1.0)
2023-10-23T08:18:16.3836782Z   â€¢ Installing parse (1.19.1)
2023-10-23T08:18:16.4328301Z   â€¢ Installing passlib (1.7.4)
2023-10-23T08:18:16.4746372Z   â€¢ Installing pastel (0.2.1)
2023-10-23T08:18:16.4852659Z   â€¢ Installing pathspec (0.11.2)
2023-10-23T08:18:16.5282354Z   â€¢ Installing pbr (5.11.1)
2023-10-23T08:18:16.5638833Z   â€¢ Installing peewee (3.17.0)
2023-10-23T08:18:16.5743653Z   â€¢ Installing platformdirs (3.11.0)
2023-10-23T08:18:16.6640083Z   â€¢ Installing psycopg (3.1.12)
2023-10-23T08:18:16.6893564Z   â€¢ Installing psycopg-binary (3.1.12)
2023-10-23T08:18:16.7982167Z   â€¢ Installing pyenchant (3.2.2)
2023-10-23T08:18:16.8579707Z   â€¢ Installing pytest (7.4.2)
2023-10-23T08:18:16.8886924Z   â€¢ Installing python-dotenv (1.0.0)
2023-10-23T08:18:16.9511955Z   â€¢ Installing python-json-logger (2.0.7)
2023-10-23T08:18:17.0270467Z   â€¢ Installing python-lsp-jsonrpc (1.0.0)
2023-10-23T08:18:17.1075824Z   â€¢ Installing pyyaml (6.0.1)
2023-10-23T08:18:17.1698720Z   â€¢ Installing regex (2023.10.3)
2023-10-23T08:18:17.3874160Z   â€¢ Installing rich (13.6.0)
2023-10-23T08:18:17.4252936Z   â€¢ Installing ruamel-yaml (0.17.40)
2023-10-23T08:18:17.4323979Z   â€¢ Installing setproctitle (1.3.3)
2023-10-23T08:18:17.5286883Z   â€¢ Installing sphinx (7.2.6)
2023-10-23T08:18:17.6220684Z   â€¢ Installing tomli (2.0.1)
2023-10-23T08:18:17.6631609Z   â€¢ Installing types-pyopenssl (23.2.0.2)
2023-10-23T08:18:17.7243695Z   â€¢ Installing uvloop (0.19.0)
2023-10-23T08:18:17.7315560Z   â€¢ Installing watchfiles (0.21.0)
2023-10-23T08:18:18.1458732Z   â€¢ Installing wcmatch (8.5)
2023-10-23T08:18:18.2098766Z   â€¢ Installing websockets (12.0)
2023-10-23T08:18:18.4403953Z   â€¢ Installing xmltodict (0.13.0)
2023-10-23T08:18:18.5411283Z   â€¢ Installing yarl (1.9.2)
2023-10-23T08:18:33.3735623Z   â€¢ Installing aiofiles (23.2.1)
2023-10-23T08:18:33.3762580Z   â€¢ Installing alembic-utils (0.8.1)
2023-10-23T08:18:33.3777625Z   â€¢ Installing anys (0.3.0)
2023-10-23T08:18:33.3791051Z   â€¢ Installing asgi-lifespan (2.1.0)
2023-10-23T08:18:33.3817021Z   â€¢ Installing authlib (1.2.1)
2023-10-23T08:18:33.3845830Z   â€¢ Installing black (23.10.0)
2023-10-23T08:18:33.4459173Z   â€¢ Installing daiquiri (3.2.3)
2023-10-23T08:18:33.4577409Z   â€¢ Installing datadog (0.47.0)
2023-10-23T08:18:33.5076121Z   â€¢ Installing ddtrace (1.20.2)
2023-10-23T08:18:33.5655449Z   â€¢ Installing deepdiff (6.6.1)
2023-10-23T08:18:33.6589699Z   â€¢ Installing filelock (3.12.4)
2023-10-23T08:18:33.6853808Z   â€¢ Installing first (2.0.2)
2023-10-23T08:18:33.7539585Z   â€¢ Installing google-cloud-storage (2.12.0)
2023-10-23T08:18:33.8340776Z   â€¢ Installing graphql-utils (0.4)
2023-10-23T08:18:33.8695589Z   â€¢ Installing gunicorn (21.2.0)
2023-10-23T08:18:33.8917332Z   â€¢ Installing hiredis (2.2.3)
2023-10-23T08:18:33.9680002Z   â€¢ Installing honcho (1.1.0)
2023-10-23T08:18:34.0247524Z   â€¢ Installing imia (0.5.3)
2023-10-23T08:18:34.0617012Z   â€¢ Installing markdownify (0.11.6)
2023-10-23T08:18:34.0824421Z   â€¢ Installing msgpack (1.0.7)
2023-10-23T08:18:34.1365767Z   â€¢ Installing mypy (1.6.1)
2023-10-23T08:18:34.1448989Z   â€¢ Installing pgvector (0.2.3)
2023-10-23T08:18:34.2085317Z   â€¢ Installing poethepoet (0.24.1)
2023-10-23T08:18:34.2912529Z   â€¢ Installing pydantic-settings (2.0.3)
2023-10-23T08:18:34.3487804Z   â€¢ Installing pyjwt (2.8.0)
2023-10-23T08:18:34.3632907Z   â€¢ Installing pytest-asyncio (0.21.1)
2023-10-23T08:18:34.3950217Z   â€¢ Installing pytest-cov (4.1.0)
2023-10-23T08:18:34.4464102Z   â€¢ Installing pytest-flakefinder (1.1.0)
2023-10-23T08:18:34.4569635Z   â€¢ Installing pytest-github-actions-annotate-failures (0.2.0)
2023-10-23T08:18:34.4868213Z   â€¢ Installing pytest-rerunfailures (12.0)
2023-10-23T08:18:34.5058609Z   â€¢ Installing pytest-split (0.8.1)
2023-10-23T08:18:34.5283630Z   â€¢ Installing pytest-timeout (2.2.0)
2023-10-23T08:18:34.5627760Z   â€¢ Installing pytest-xdist (3.3.1)
2023-10-23T08:18:34.5880100Z   â€¢ Installing python-multipart (0.0.6)
2023-10-23T08:18:34.5908533Z   â€¢ Installing redis (5.0.0)
2023-10-23T08:18:34.6548698Z   â€¢ Installing reno (4.0.0)
2023-10-23T08:18:34.7007276Z   â€¢ Installing respx (0.20.2)
2023-10-23T08:18:34.7730533Z   â€¢ Installing ruff (0.1.1)
2023-10-23T08:18:34.8291246Z   â€¢ Installing semgrep (1.45.0)
2023-10-23T08:18:34.8378379Z   â€¢ Installing sentry-sdk (1.32.0)
2023-10-23T08:18:35.1279110Z   â€¢ Installing sphinxcontrib-jquery (4.1)
2023-10-23T08:18:35.2348004Z   â€¢ Installing sphinxcontrib-spelling (8.0.0)
2023-10-23T08:18:35.2869189Z   â€¢ Installing sqlalchemy-utils (0.41.1)
2023-10-23T08:18:35.5222484Z   â€¢ Installing starsessions (2.1.3)
2023-10-23T08:18:35.5975048Z   â€¢ Installing tenacity (8.2.3)
2023-10-23T08:18:35.6626637Z   â€¢ Installing tiktoken (0.5.1)
2023-10-23T08:18:36.0684096Z   â€¢ Installing types-first (2.0.5.2)
2023-10-23T08:18:36.0812163Z   â€¢ Installing types-pkg-resources (0.1.3)
2023-10-23T08:18:36.1277056Z   â€¢ Installing types-python-dateutil (2.8.19.14)
2023-10-23T08:18:36.1364446Z   â€¢ Installing types-pyyaml (6.0.12.12)
2023-10-23T08:18:36.1884515Z   â€¢ Installing types-redis (4.6.0.7)
2023-10-23T08:18:36.2323334Z   â€¢ Installing unidecode (1.3.7)
2023-10-23T08:18:36.2562875Z   â€¢ Installing uvicorn (0.23.2)
2023-10-23T08:18:36.3497467Z   â€¢ Installing vcrpy (5.1.0)
2023-10-23T08:18:36.3898937Z   â€¢ Installing voluptuous (0.13.1)
2023-10-23T08:18:36.4565761Z   â€¢ Installing yamllint (1.32.0)
2023-10-23T08:18:38.4896406Z 
2023-10-23T08:18:38.4898387Z Installing the current project: mergify_engine (0.0.0)
2023-10-23T08:18:39.3333782Z Poe => ./tools/poetry-ci-install.sh
2023-10-23T08:18:40.4117294Z Installing dependencies from lock file
2023-10-23T08:18:41.4411472Z 
2023-10-23T08:18:41.4412613Z No dependencies to install or update
2023-10-23T08:18:41.4615105Z 
2023-10-23T08:18:41.4617771Z Installing the current project: mergify_engine (0.0.0)
2023-10-23T08:18:41.5789755Z Poe => ./tools/run-tests.sh pytest -v --timeout_method thread --reruns 3 --only-rerun MissingEventTimeout --splits 10 --group 2 --store-durations --durations-path engine-ci-test-durations --splitting-algorithm=least_duration --reruns 3 --only-rerun MissingEventTimeout
2023-10-23T08:18:42.0986774Z + PYTHON_EXTRACT_DOCKER_PORT='
2023-10-23T08:18:42.0987848Z import json, sys
2023-10-23T08:18:42.1086419Z data = json.load(sys.stdin)
2023-10-23T08:18:42.1087494Z if isinstance(data, list):
2023-10-23T08:18:42.1088337Z     publishers = data[0]['\''Publishers'\'']
2023-10-23T08:18:42.1088923Z else:
2023-10-23T08:18:42.1089385Z     publishers = data['\''Publishers'\'']
2023-10-23T08:18:42.1089816Z 
2023-10-23T08:18:42.1089991Z for pub in publishers:
2023-10-23T08:18:42.1090534Z     if pub['\''PublishedPort'\''] > 0:
2023-10-23T08:18:42.1091209Z         print(pub['\''PublishedPort'\''])
2023-10-23T08:18:42.1091972Z         sys.exit(0)
2023-10-23T08:18:42.1092226Z 
2023-10-23T08:18:42.1092357Z sys.exit(1)
2023-10-23T08:18:42.1092719Z '
2023-10-23T08:18:42.1093095Z + '[' true == true ']'
2023-10-23T08:18:42.1093505Z + REDIS_PORT=6363
2023-10-23T08:18:42.1093911Z + POSTGRES_PORT=5432
2023-10-23T08:18:42.1094361Z + GOOGLE_CLOUD_STORAGE_PORT=8000
2023-10-23T08:18:42.1104125Z + export MERGIFYENGINE_DATABASE_URL=***localhost:5432/postgres
2023-10-23T08:18:42.1105475Z + MERGIFYENGINE_DATABASE_URL=***localhost:5432/postgres
2023-10-23T08:18:42.1106445Z + export MERGIFYENGINE_DEFAULT_REDIS_URL=redis://localhost:6363
2023-10-23T08:18:42.1107385Z + MERGIFYENGINE_DEFAULT_REDIS_URL=redis://localhost:6363
2023-10-23T08:18:42.1108230Z ++ pwgen -1 48
2023-10-23T08:18:42.1110057Z ./tools/run-tests.sh: line 48: pwgen: command not found
2023-10-23T08:18:42.1110966Z + export MERGIFYENGINE_DATABASE_OAUTH_TOKEN_SECRET_CURRENT=
2023-10-23T08:18:42.1111812Z + MERGIFYENGINE_DATABASE_OAUTH_TOKEN_SECRET_CURRENT=
2023-10-23T08:18:42.1112633Z + export STORAGE_EMULATOR_HOST=http://localhost:8000
2023-10-23T08:18:42.1113718Z + STORAGE_EMULATOR_HOST=http://localhost:8000
2023-10-23T08:18:42.1114759Z + docker run --net host --rm redis redis-cli -h localhost -p 6363 keys '*'
2023-10-23T08:18:42.8503908Z 
2023-10-23T08:18:42.9057635Z + docker run --net host --rm postgres psql ***localhost:5432/postgres -c 'select 1 as connected'
2023-10-23T08:18:42.9236593Z Unable to find image 'postgres:latest' locally
2023-10-23T08:18:43.1617338Z latest: Pulling from library/postgres
2023-10-23T08:18:43.2475662Z a378f10b3218: Already exists
2023-10-23T08:18:43.2553280Z 2ebc5690e391: Pulling fs layer
2023-10-23T08:18:43.2553943Z 8fe57f734687: Pulling fs layer
2023-10-23T08:18:43.2556718Z a2ddbb09cd9a: Pulling fs layer
2023-10-23T08:18:43.2569752Z 5a2499e87ab8: Pulling fs layer
2023-10-23T08:18:43.2574013Z a45f5c4adf1b: Pulling fs layer
2023-10-23T08:18:43.2578733Z 178017fd978e: Pulling fs layer
2023-10-23T08:18:43.2582588Z 428dff1cb77d: Pulling fs layer
2023-10-23T08:18:43.2585856Z 4667364adfc4: Pulling fs layer
2023-10-23T08:18:43.2589093Z 4eea1f5281a9: Pulling fs layer
2023-10-23T08:18:43.2592638Z 369467411787: Pulling fs layer
2023-10-23T08:18:43.2595937Z 51184495a2bc: Pulling fs layer
2023-10-23T08:18:43.2603281Z d3e246f01410: Pulling fs layer
2023-10-23T08:18:43.2603888Z 5a2499e87ab8: Waiting
2023-10-23T08:18:43.2604302Z a45f5c4adf1b: Waiting
2023-10-23T08:18:43.2604721Z 178017fd978e: Waiting
2023-10-23T08:18:43.2605142Z 428dff1cb77d: Waiting
2023-10-23T08:18:43.2605542Z 4667364adfc4: Waiting
2023-10-23T08:18:43.2605974Z 4eea1f5281a9: Waiting
2023-10-23T08:18:43.2606386Z 369467411787: Waiting
2023-10-23T08:18:43.2606768Z 51184495a2bc: Waiting
2023-10-23T08:18:43.2607174Z d3e246f01410: Waiting
2023-10-23T08:18:43.3133022Z 2ebc5690e391: Verifying Checksum
2023-10-23T08:18:43.3133728Z 2ebc5690e391: Download complete
2023-10-23T08:18:43.3417238Z 2ebc5690e391: Pull complete
2023-10-23T08:18:43.3423084Z a2ddbb09cd9a: Verifying Checksum
2023-10-23T08:18:43.3425769Z a2ddbb09cd9a: Download complete
2023-10-23T08:18:43.3980036Z 8fe57f734687: Verifying Checksum
2023-10-23T08:18:43.3982553Z 8fe57f734687: Download complete
2023-10-23T08:18:43.4485818Z a45f5c4adf1b: Verifying Checksum
2023-10-23T08:18:43.4486534Z a45f5c4adf1b: Download complete
2023-10-23T08:18:43.4720612Z 5a2499e87ab8: Verifying Checksum
2023-10-23T08:18:43.4721282Z 5a2499e87ab8: Download complete
2023-10-23T08:18:43.4988072Z 178017fd978e: Verifying Checksum
2023-10-23T08:18:43.4991228Z 178017fd978e: Download complete
2023-10-23T08:18:43.5056284Z 428dff1cb77d: Verifying Checksum
2023-10-23T08:18:43.5057715Z 428dff1cb77d: Download complete
2023-10-23T08:18:43.5723928Z 369467411787: Verifying Checksum
2023-10-23T08:18:43.5724588Z 369467411787: Download complete
2023-10-23T08:18:43.5955927Z 4eea1f5281a9: Verifying Checksum
2023-10-23T08:18:43.5956604Z 4eea1f5281a9: Download complete
2023-10-23T08:18:43.6405631Z 51184495a2bc: Verifying Checksum
2023-10-23T08:18:43.6410272Z 51184495a2bc: Download complete
2023-10-23T08:18:43.7474569Z d3e246f01410: Verifying Checksum
2023-10-23T08:18:43.7476132Z d3e246f01410: Download complete
2023-10-23T08:18:43.7552810Z 8fe57f734687: Pull complete
2023-10-23T08:18:43.8816841Z a2ddbb09cd9a: Pull complete
2023-10-23T08:18:44.5393007Z 4667364adfc4: Verifying Checksum
2023-10-23T08:18:44.5393685Z 4667364adfc4: Download complete
2023-10-23T08:18:44.5515656Z 5a2499e87ab8: Pull complete
2023-10-23T08:18:44.6466472Z a45f5c4adf1b: Pull complete
2023-10-23T08:18:44.6697326Z 178017fd978e: Pull complete
2023-10-23T08:18:44.6823400Z 428dff1cb77d: Pull complete
2023-10-23T08:18:48.4868559Z 4667364adfc4: Pull complete
2023-10-23T08:18:49.7928497Z 4eea1f5281a9: Pull complete
2023-10-23T08:18:49.8148942Z 369467411787: Pull complete
2023-10-23T08:18:49.8332202Z 51184495a2bc: Pull complete
2023-10-23T08:18:49.8509053Z d3e246f01410: Pull complete
2023-10-23T08:18:49.8567194Z Digest: sha256:3d9ed832906091d609cfd6f283e79492ace01ba15866b21d8a262e8fd1cdfb55
2023-10-23T08:18:49.8590442Z Status: Downloaded newer image for postgres:latest
2023-10-23T08:18:50.0771725Z  connected 
2023-10-23T08:18:50.0772726Z -----------
2023-10-23T08:18:50.0773613Z          1
2023-10-23T08:18:50.0774073Z (1 row)
2023-10-23T08:18:50.0774279Z 
2023-10-23T08:18:50.1297325Z + cmd=pytest
2023-10-23T08:18:50.1298314Z + shift
2023-10-23T08:18:50.1302272Z + pytest -v --timeout_method thread --reruns 3 --only-rerun MissingEventTimeout --splits 10 --group 2 --store-durations --durations-path engine-ci-test-durations --splitting-algorithm=least_duration --reruns 3 --only-rerun MissingEventTimeout
2023-10-23T08:19:03.1223164Z 
2023-10-23T08:19:03.1226383Z [pytest-split] No test durations found. Pytest-split will split tests evenly when no durations are found. 
2023-10-23T08:19:03.1231273Z [pytest-split] You can expect better results in consequent runs, when test timings have been documented.
2023-10-23T08:19:03.1233043Z 
2023-10-23T08:19:03.1233579Z ============================= test session starts ==============================
2023-10-23T08:19:03.1236769Z platform linux -- Python 3.11.4, pytest-7.4.2, pluggy-1.3.0 -- /home/runner/.cache/pypoetry/virtualenvs/mergify-engine-cHHEL7M--py3.11/bin/python
2023-10-23T08:19:03.1239370Z cachedir: .pytest_cache
2023-10-23T08:19:03.1239991Z rootdir: /home/runner/work/engine/engine
2023-10-23T08:19:03.1240609Z configfile: pyproject.toml
2023-10-23T08:19:03.1241102Z testpaths: mergify_engine/tests
2023-10-23T08:19:03.1243600Z plugins: asyncio-0.21.1, github-actions-annotate-failures-0.2.0, timeout-2.2.0, ddtrace-1.20.2, rerunfailures-12.0, flakefinder-1.1.0, anyio-3.7.1, split-0.8.1, cov-4.1.0, xdist-3.3.1, respx-0.20.2
2023-10-23T08:19:03.1245484Z asyncio: mode=Mode.AUTO
2023-10-23T08:19:03.1245930Z timeout: 200.0s
2023-10-23T08:19:03.1246318Z timeout method: thread
2023-10-23T08:19:03.1246767Z timeout func_only: False
2023-10-23T08:19:15.5667511Z collecting ... 
2023-10-23T08:19:15.5668661Z 
2023-10-23T08:19:15.5670958Z [pytest-split] Splitting tests with algorithm: least_duration
2023-10-23T08:19:15.5673338Z [pytest-split] Running group 2/10 (estimated duration: 203.00s)
2023-10-23T08:19:15.5674791Z 
2023-10-23T08:19:15.5675728Z collected 2026 items / 1823 deselected / 203 selected
2023-10-23T08:19:15.5676365Z 
2023-10-23T08:19:20.2093662Z mergify_engine/tests/functional/test_attributes.py::TestAttributes::test_commits_list_condition PASSED [  0%]
2023-10-23T08:19:24.2302324Z mergify_engine/tests/functional/test_attributes.py::TestAttributes::test_one_commit_verified PASSED [  0%]
2023-10-23T08:19:28.4969561Z mergify_engine/tests/functional/test_attributes.py::TestAttributes::test_repo_name_short_right PASSED [  1%]
2023-10-23T08:19:32.7111148Z mergify_engine/tests/functional/test_attributes.py::TestAttributes::test_retrieve_message_resolved_thread PASSED [  1%]
2023-10-23T08:19:36.5587362Z mergify_engine/tests/functional/test_attributes.py::TestAttributes::test_updated_relative_match PASSED [  2%]
2023-10-23T08:19:41.8536243Z mergify_engine/tests/functional/test_attributes.py::TestAttributesWithSub::test_merge_after PASSED [  2%]
2023-10-23T08:19:51.0598787Z mergify_engine/tests/functional/test_branch_protection.py::TestBranchProtection::test_strict_status_check_with_rebase_update_method_and_no_bot_account PASSED [  3%]
2023-10-23T08:19:56.0951206Z mergify_engine/tests/functional/test_configuration.py::TestConfiguration::test_change_mergify_yml_in_meantime_on_big_pull_request PASSED [  3%]
2023-10-23T08:19:59.7642761Z mergify_engine/tests/functional/test_configuration.py::TestConfiguration::test_invalid_priority_rules_config PASSED [  4%]
2023-10-23T08:20:04.0389871Z mergify_engine/tests/functional/test_count_seats.py::TestCountSeats::test_run_count_seats_report PASSED [  4%]
2023-10-23T08:20:07.6474574Z mergify_engine/tests/functional/test_deprecation.py::TestDeprecation::test_deprecated_multiple_rules_with_same_name PASSED [  5%]
2023-10-23T08:20:13.3808565Z mergify_engine/tests/functional/test_engine.py::TestEngineV2Scenario::test_command_refresh PASSED [  5%]
2023-10-23T08:20:17.0678972Z mergify_engine/tests/functional/test_engine.py::TestEngineV2Scenario::test_merge_custom_msg_template PASSED [  6%]
2023-10-23T08:20:21.3753295Z mergify_engine/tests/functional/test_engine.py::TestEngineV2Scenario::test_pull_refreshed_after_config_change PASSED [  6%]
2023-10-23T08:20:24.1952748Z mergify_engine/tests/functional/test_fixtures.py::test_fixture_web_client PASSED [  7%]
2023-10-23T08:20:27.8259790Z mergify_engine/tests/functional/test_github_async_client.py::TestGitHubClient::test_github_async_client PASSED [  7%]
2023-10-23T08:20:31.4694739Z mergify_engine/tests/functional/actions/test_assign.py::TestAssignAction::test_assign_user_already_assigned PASSED [  8%]
2023-10-23T08:20:37.7397466Z mergify_engine/tests/functional/actions/test_backport.py::TestBackportAction::test_backport_skips_commit_when_change_already_in_destination_branch PASSED [  8%]
2023-10-23T08:20:41.3988634Z mergify_engine/tests/functional/actions/test_comment.py::TestCommentAction::test_comment_template_attribute_error PASSED [  9%]
2023-10-23T08:20:46.1722826Z mergify_engine/tests/functional/actions/test_edit.py::TestEditAction::test_ready_for_review_already_converted PASSED [  9%]
2023-10-23T08:20:50.2798587Z mergify_engine/tests/functional/actions/test_label.py::TestLabelAction::test_label_remove_all PASSED [ 10%]
2023-10-23T08:20:56.3279812Z mergify_engine/tests/functional/actions/test_merge.py::TestMergeAction::test_default_merge_method PASSED [ 10%]
2023-10-23T08:21:01.2324639Z mergify_engine/tests/functional/actions/test_merge.py::TestMergeAction::test_merge_with_installation_token PASSED [ 11%]
2023-10-23T08:21:14.1960004Z mergify_engine/tests/functional/actions/test_queue.py::TestQueueAction::test_batch_queue PASSED [ 11%]
2023-10-23T08:21:20.5649061Z mergify_engine/tests/functional/actions/test_queue.py::TestQueueAction::test_checks_inject_queue_conditions_in_merge_conditions PASSED [ 12%]
2023-10-23T08:21:28.2396910Z mergify_engine/tests/functional/actions/test_queue.py::TestQueueAction::test_queue_cancel_and_refresh_inplace PASSED [ 12%]
2023-10-23T08:21:37.7009320Z mergify_engine/tests/functional/actions/test_queue.py::TestQueueAction::test_queue_ci_timeout_inplace_with_only_pull_request_rules PASSED [ 13%]
2023-10-23T08:21:42.0745090Z mergify_engine/tests/functional/actions/test_queue.py::TestQueueAction::test_queue_conditions_matching_with_pull_request_rules PASSED [ 13%]
2023-10-23T08:21:50.7896339Z mergify_engine/tests/functional/actions/test_queue.py::TestQueueAction::test_queue_inplace_with_merge_update_method_and_different_bot_account PASSED [ 14%]
2023-10-23T08:22:02.0993334Z mergify_engine/tests/functional/actions/test_queue.py::TestQueueAction::test_queue_pr_priority_no_interrupt PASSED [ 14%]
2023-10-23T08:22:10.1962139Z mergify_engine/tests/functional/actions/test_queue.py::TestQueueAction::test_queue_with_ci_in_pull_request_rules PASSED [ 15%]
2023-10-23T08:22:16.7410051Z mergify_engine/tests/functional/actions/test_queue.py::TestQueueAction::test_unqueue_on_synchronise_and_rule_unmatch PASSED [ 15%]
2023-10-23T08:22:20.5470777Z mergify_engine/tests/functional/actions/test_queue_train_api_calls.py::TestTrainApiCalls::test_create_pull_conflicts PASSED [ 16%]
2023-10-23T08:22:28.5581786Z mergify_engine/tests/functional/actions/test_queue_with_partition_rules.py::TestQueueWithPartitionRules::test_two_prs_in_differents_partitions_merged_no_inplace PASSED [ 16%]
2023-10-23T08:22:33.7059172Z mergify_engine/tests/functional/actions/test_rebase.py::TestRebaseAction::test_rebase_ok PASSED [ 17%]
2023-10-23T08:22:37.3596328Z mergify_engine/tests/functional/actions/test_request_reviews.py::TestRequestReviewsAction::test_request_reviews_teams PASSED [ 17%]
2023-10-23T08:22:41.2394499Z mergify_engine/tests/functional/actions/test_squash.py::TestActionSquash::test_squash_several_commits_ok PASSED [ 18%]
2023-10-23T08:22:44.8802810Z mergify_engine/tests/functional/actions/test_workflow_automation_feature_flag.py::TestWorkflowAutomationFeatureFlag::test_pull_request_rules_without_feature PASSED [ 18%]
2023-10-23T08:22:47.6143489Z mergify_engine/tests/functional/api/test_auth.py::test_api_auth_invalid_token PASSED [ 19%]
2023-10-23T08:22:54.3842555Z mergify_engine/tests/functional/api/test_eventlogs.py::TestEventLogsAction::test_unsuccessful_checks_failed_with_spec_checks PASSED [ 19%]
2023-10-23T08:23:09.9286443Z mergify_engine/tests/functional/api/test_queue.py::TestQueueApi::test_estimated_time_of_merge_multiple_pr_waiting_batch PASSED [ 20%]
2023-10-23T08:23:23.0956953Z mergify_engine/tests/functional/api/test_queue.py::TestQueueApi::test_get_queues PASSED [ 20%]
2023-10-23T08:23:27.9654313Z mergify_engine/tests/functional/api/test_queue.py::TestNewQueueApiEndpoint::test_pr_in_queue_without_partitions PASSED [ 21%]
2023-10-23T08:23:36.8665739Z mergify_engine/tests/functional/api/test_queue_freeze.py::TestQueueFreeze::test_queue_freeze_priority_with_empty_frozen_default_queue PASSED [ 21%]
2023-10-23T08:23:45.4253425Z mergify_engine/tests/functional/api/test_statistics_with_partition_rules.py::TestStatisticsWithPartitionsEndpoints::test_time_to_merge_with_partitions_endpoint_with_freeze PASSED [ 22%]
2023-10-23T08:23:49.4352871Z mergify_engine/tests/functional/api/test_subscriptions.py::TestSubscriptionsApi::test_eventlogs_subscription PASSED [ 22%]
2023-10-23T08:23:53.5395231Z mergify_engine/tests/functional/commands/test_commands_restrictions.py::TestCommandsRestrictions::test_false_user_commands_restrictions PASSED [ 23%]
2023-10-23T08:24:00.6613435Z mergify_engine/tests/functional/commands/test_copy.py::TestCommandCopy::test_command_copy PASSED [ 23%]
2023-10-23T08:24:06.7072318Z mergify_engine/tests/functional/commands/test_queue.py::TestQueueCommand::test_multiple_queue_commands_on_different_queues PASSED [ 24%]
2023-10-23T08:24:07.6224923Z mergify_engine/tests/functional/console_scripts/test_clear_subscription_cache.py::test_clear_subscription_cache PASSED [ 24%]
2023-10-23T08:24:11.1075378Z mergify_engine/tests/functional/console_scripts/test_dump_redis_keys.py::TestRedisUtilsDumper::test_download_cached_config_files PASSED [ 25%]
2023-10-23T08:24:11.4037432Z mergify_engine/tests/unit/test_behind.py::test_pull_behind[O-A-B-C] PASSED [ 25%]
2023-10-23T08:24:11.7289479Z mergify_engine/tests/unit/test_clients.py::test_client_installation_HTTP_500 PASSED [ 26%]
2023-10-23T08:24:12.0197992Z mergify_engine/tests/unit/test_command.py::test_run_command_with_user[666-admin-@mergifyio something-Sorry but I didn't understand the command. Please consult [the commands documentation](https://docs.mergify.com/commands) \U0001f4da.] PASSED [ 26%]
2023-10-23T08:24:12.3202232Z mergify_engine/tests/unit/test_command.py::test_run_command_with_no_subscription[backport] PASSED [ 27%]
2023-10-23T08:24:12.6248144Z mergify_engine/tests/unit/test_command.py::test_commands_restrictions_sender_permission[sender-permission!=write-admin-True] PASSED [ 27%]
2023-10-23T08:24:12.9432996Z mergify_engine/tests/unit/test_command.py::test_commands_restrictions_sender_permission[sender-permission>=write-admin-True] PASSED [ 28%]
2023-10-23T08:24:13.1232854Z mergify_engine/tests/unit/test_context.py::test_length_optimisation PASSED [ 28%]
2023-10-23T08:24:13.3363554Z mergify_engine/tests/unit/test_context.py::test_context_merge_after_valid[Merge-After: 2023-01-18 08:10[Europe/Paris]-expected_out6] PASSED [ 29%]
2023-10-23T08:24:13.5158101Z mergify_engine/tests/unit/test_context.py::test_context_merge_after_invalid[Merge-After: 1-01-18] PASSED [ 29%]
2023-10-23T08:24:13.6918553Z mergify_engine/tests/unit/test_context.py::test_context_merge_after_invalid[Merge-After: 2023-1-18[Australia/Sydney]] PASSED [ 30%]
2023-10-23T08:24:13.8794724Z mergify_engine/tests/unit/test_context.py::test_context_merge_after_invalid[Merge-After: 2023-01-1 08:10] PASSED [ 30%]
2023-10-23T08:24:14.0530556Z mergify_engine/tests/unit/test_context.py::test_context_body_null PASSED [ 31%]
2023-10-23T08:24:14.2361569Z mergify_engine/tests/unit/test_context.py::test_reviews_filtering PASSED [ 31%]
2023-10-23T08:24:14.4451884Z mergify_engine/tests/unit/test_count_seats.py::test_store_active_users[workflow_job-event6] PASSED [ 32%]
2023-10-23T08:24:14.6507538Z mergify_engine/tests/unit/test_count_seats.py::test_store_active_users[github_app_authorization-event14] PASSED [ 32%]
2023-10-23T08:24:14.8557121Z mergify_engine/tests/unit/test_count_seats.py::test_store_active_users[repository-event18] PASSED [ 33%]
2023-10-23T08:24:16.7785683Z mergify_engine/tests/unit/test_count_seats.py::test_get_usage_count_seats[workflow_job-event6] PASSED [ 33%]
2023-10-23T08:24:18.6849391Z mergify_engine/tests/unit/test_count_seats.py::test_get_usage_count_seats[github_app_authorization-event14] PASSED [ 33%]
2023-10-23T08:24:20.5893524Z mergify_engine/tests/unit/test_count_seats.py::test_get_usage_count_seats[repository-event18] PASSED [ 34%]
2023-10-23T08:24:20.7627141Z mergify_engine/tests/unit/test_date.py::test_fromisoformat[2021-06-01H18:41:39Z-expected2] PASSED [ 34%]
2023-10-23T08:24:20.9331042Z mergify_engine/tests/unit/test_date.py::test_pretty_datetime[dt2-2021-12-31 23:01 UTC] PASSED [ 35%]
2023-10-23T08:24:21.1028410Z mergify_engine/tests/unit/test_date.py::test_day_of_week_from_string[monday-1] PASSED [ 35%]
2023-10-23T08:24:21.2733078Z mergify_engine/tests/unit/test_date.py::test_invalid_date_string[Time-10:20[Invalid]-Invalid timezone] PASSED [ 36%]
2023-10-23T08:24:21.4426038Z mergify_engine/tests/unit/test_date.py::test_interval_from_string[1 second-expected_interval10] PASSED [ 36%]
2023-10-23T08:24:21.6106190Z mergify_engine/tests/unit/test_date.py::test_interval_from_string[1 days 15 hours 6 minutes 42 seconds-expected_interval13] PASSED [ 37%]
2023-10-23T08:24:21.7785757Z mergify_engine/tests/unit/test_date.py::test_interval_from_string[-1 d -6 m 42 seconds-expected_interval21] PASSED [ 37%]
2023-10-23T08:24:21.9475063Z mergify_engine/tests/unit/test_date.py::test_datetime_inside_time_range[time_to_check3-20-10-21-0-True-True] PASSED [ 38%]
2023-10-23T08:24:22.1144213Z mergify_engine/tests/unit/test_date.py::test_schedule_next_datetime[schedule17-from_time17-expected17] PASSED [ 38%]
2023-10-23T08:24:22.2826722Z mergify_engine/tests/unit/test_date.py::test_schedule_eq_with_datetime[schedule1-date_to_test1-False] PASSED [ 39%]
2023-10-23T08:24:22.4534185Z mergify_engine/tests/unit/test_date.py::test_schedule_eq_with_datetime[schedule8-date_to_test8-False] PASSED [ 39%]
2023-10-23T08:24:22.6246930Z mergify_engine/tests/unit/test_date.py::test_fromisoformat_with_zoneinfo[2023-07-13T14:00Z-expected_datetime2] PASSED [ 40%]
2023-10-23T08:24:22.8131708Z mergify_engine/tests/unit/test_date.py::test_datetimerange_fromisoformat_with_zoneinfo[2007-03-01T13:00:00Z/2008-05-11T15:30:00[Europe/Paris]-expected_dtr3] PASSED [ 40%]
2023-10-23T08:24:22.9867973Z mergify_engine/tests/unit/test_date.py::test_datetimerange_inequality[actual0-other0] PASSED [ 41%]
2023-10-23T08:24:23.1767360Z mergify_engine/tests/unit/test_date.py::test_relativedelta[2023-03-31--1-0-2023-02-28] PASSED [ 41%]
2023-10-23T08:24:24.1170464Z mergify_engine/tests/unit/test_db_populator.py::test_db_populator_load_implementation PASSED [ 42%]
2023-10-23T08:24:24.4682684Z mergify_engine/tests/unit/test_delayed_refresh.py::test_delayed_refresh_without_time[pull2-expected_refresh2] PASSED [ 42%]
2023-10-23T08:24:24.7898693Z mergify_engine/tests/unit/test_delayed_refresh.py::test_delayed_refresh_with_more_success_conditions[start_datetime0-expected_refresh0] PASSED [ 43%]
2023-10-23T08:24:25.0695852Z mergify_engine/tests/unit/test_duplicate.py::test_get_commits_to_cherry_pick_rebase PASSED [ 43%]
2023-10-23T08:24:25.4493478Z mergify_engine/tests/unit/test_engine.py::test_configuration_check_not_needed_with_configuration_changed PASSED [ 44%]
2023-10-23T08:24:25.7329236Z mergify_engine/tests/unit/test_events_db.py::test_event_not_supported PASSED [ 44%]
2023-10-23T08:24:26.8030500Z mergify_engine/tests/unit/test_events_db.py::test_event_action_assign_consistency PASSED [ 45%]
2023-10-23T08:24:27.8176972Z mergify_engine/tests/unit/test_events_db.py::test_event_action_merge_consistency PASSED [ 45%]
2023-10-23T08:24:28.3075226Z mergify_engine/tests/unit/test_github_app_info.py::test_github_app_info_getter PASSED [ 46%]
2023-10-23T08:24:28.4871575Z mergify_engine/tests/unit/test_github_events.py::test_filter_and_dispatch[workflow_job-event6] PASSED [ 46%]
2023-10-23T08:24:28.6798825Z mergify_engine/tests/unit/test_github_events.py::test_filter_and_dispatch[github_app_authorization-event14] PASSED [ 47%]
2023-10-23T08:24:28.8570309Z mergify_engine/tests/unit/test_github_events.py::test_filter_and_dispatch[repository-event18] PASSED [ 47%]
2023-10-23T08:24:29.0308415Z mergify_engine/tests/unit/test_gitter.py::test_gitter_error_catching[To https://github.com/owner/repo\n ! [remote rejected] mergify/bp/main/pr-42 -> mergify/bp/main/pr-42 (cannot lock ref 'refs/heads/mergify/bp/main/pr-42': 'refs/heads/mergify/merge-queue' exists; cannot create 'refs/heads/mergify/bp/main/pr-42')\nerror: failed to push some refs to 'https://github.com/owner/repo'\n\n-GitMergifyNamespaceConflict-cannot lock ref] PASSED [ 48%]
2023-10-23T08:24:29.2143449Z mergify_engine/tests/unit/test_json.py::test_register_type_fail PASSED   [ 48%]
2023-10-23T08:24:29.3957296Z mergify_engine/tests/unit/test_pull_request_finder.py::test_event_to_pull_check_run_same_repo PASSED [ 49%]
2023-10-23T08:24:29.5939565Z mergify_engine/tests/unit/test_redis.py::test_redis_connection_error_workaround_for_broken_behavior PASSED [ 49%]
2023-10-23T08:24:29.7745964Z mergify_engine/tests/unit/test_settings.py::test_type_log_level[ERROR-40] PASSED [ 50%]
2023-10-23T08:24:29.9537524Z mergify_engine/tests/unit/test_settings.py::test_database_url_format[***foobar.com:123/***foobar.com:123/path] PASSED [ 50%]
2023-10-23T08:24:30.1316394Z mergify_engine/tests/unit/test_subscription.py::test_save_sub[features2] PASSED [ 51%]
2023-10-23T08:24:30.3058159Z mergify_engine/tests/unit/test_summary.py::test_queue_rules_order_operator_or PASSED [ 51%]
2023-10-23T08:24:30.4752700Z mergify_engine/tests/unit/test_summary.py::test_queue_condition_summary_display_override PASSED [ 52%]
2023-10-23T08:24:30.6712396Z mergify_engine/tests/unit/test_utils.py::test_unicode_truncate[end-1-\u2026-None] PASSED [ 52%]
2023-10-23T08:24:30.8502192Z mergify_engine/tests/unit/test_utils.py::test_unicode_truncate[end-21-\u2026-h\xe9 ho! how are yo\u2026] PASSED [ 53%]
2023-10-23T08:24:31.0206784Z mergify_engine/tests/unit/test_utils.py::test_unicode_truncate[end-3-\U0001f60e-None] PASSED [ 53%]
2023-10-23T08:24:31.2008617Z mergify_engine/tests/unit/test_utils.py::test_unicode_truncate[end-6-\U0001f60e-h\U0001f60e] PASSED [ 54%]
2023-10-23T08:24:31.3843057Z mergify_engine/tests/unit/test_utils.py::test_unicode_truncate[middle-18--h\xe9 ho! h you\u221a2?] PASSED [ 54%]
2023-10-23T08:24:31.5555187Z mergify_engine/tests/unit/test_utils.py::test_unicode_truncate[middle-7-\u2026-h\u20262?] PASSED [ 55%]
2023-10-23T08:24:31.7647279Z mergify_engine/tests/unit/test_utils.py::test_unicode_truncate[middle-22-\u2026-h\xe9 ho! ho\u2026 you\u221a2?] PASSED [ 55%]
2023-10-23T08:24:31.9422693Z mergify_engine/tests/unit/test_utils.py::test_unicode_truncate[middle-4-\U0001f60e-\U0001f60e] PASSED [ 56%]
2023-10-23T08:24:32.1236306Z mergify_engine/tests/unit/test_utils.py::test_get_random_choices PASSED  [ 56%]
2023-10-23T08:24:32.3020037Z mergify_engine/tests/unit/test_utils.py::test_to_ordinal_numeric PASSED  [ 57%]
2023-10-23T08:24:32.4910582Z mergify_engine/tests/unit/test_utils.py::test_payload_dumper PASSED      [ 57%]
2023-10-23T08:24:32.6691960Z mergify_engine/tests/unit/test_utils.py::test_strtobool[1-True] PASSED   [ 58%]
2023-10-23T08:24:32.8649815Z mergify_engine/tests/unit/test_utils.py::test_strtobool_exc PASSED       [ 58%]
2023-10-23T08:24:33.0487139Z mergify_engine/tests/unit/test_utils.py::test_url_parser_with_pr_ok[https://github.com/mergifyio/mergify-engine/pull/123#0] PASSED [ 59%]
2023-10-23T08:24:33.2343990Z mergify_engine/tests/unit/test_utils.py::test_url_parser_with_branch_ok[https://github.com/mergifyio/mergify-engine/branch/main#] PASSED [ 59%]
2023-10-23T08:24:39.4142595Z mergify_engine/tests/unit/test_worker.py::test_worker_legacy_push PASSED [ 60%]
2023-10-23T08:24:40.7573154Z mergify_engine/tests/unit/test_worker.py::test_stream_processor_ignore_503 PASSED [ 60%]
2023-10-23T08:24:40.9740394Z mergify_engine/tests/unit/test_worker.py::test_score_priority_helpers[1-2020-01-12T22:42:00] PASSED [ 61%]
2023-10-23T08:24:41.1501027Z mergify_engine/tests/unit/test_worker.py::test_extract_app_from_status[status_event5-circleci] PASSED [ 61%]
2023-10-23T08:24:41.3301938Z mergify_engine/tests/unit/test_worker.py::test_extract_app_from_status[status_event17-akuity] PASSED [ 62%]
2023-10-23T08:24:41.6135078Z mergify_engine/tests/unit/actions/test_copy.py::test_copy_conclusion_pending PASSED [ 62%]
2023-10-23T08:24:41.8973290Z mergify_engine/tests/unit/actions/test_merge.py::test_merge_commit_message[Hello world\n\n# Commit Message:\nmy title\n\nmy body\nis longer-my title-my body\nis longer-None] PASSED [ 63%]
2023-10-23T08:24:42.1873279Z mergify_engine/tests/unit/actions/test_merge.py::test_request_merge_without_method_failure PASSED [ 63%]
2023-10-23T08:24:42.4975093Z mergify_engine/tests/unit/actions/test_queue.py::test_get_rule_checks_status[conditions7-âŒ failure] PASSED [ 64%]
2023-10-23T08:24:42.6828148Z mergify_engine/tests/unit/actions/test_queue.py::test_required_status_checks_strict_incompatibility_with_queue_rules[queue_rule_config2-queue_executor_config2-allow_inplace_checks=false-None] PASSED [ 64%]
2023-10-23T08:24:42.9507479Z mergify_engine/tests/unit/actions/test_queue.py::test_check_method_fastforward_configuration[rebase-None-1-4-True-speculative_checks > 1 is not compatible with fast-forward merge method-The `merge_method` or the queue configuration must be updated.] PASSED [ 65%]
2023-10-23T08:24:43.2344477Z mergify_engine/tests/unit/actions/test_request_reviews.py::test_team_permissions_ok PASSED [ 65%]
2023-10-23T08:24:45.1837767Z mergify_engine/tests/unit/api/test_exceptions.py::test_handler_exception_mergify_not_installed[/v1] PASSED [ 66%]
2023-10-23T08:24:47.1025194Z mergify_engine/tests/unit/api/test_exceptions.py::test_handler_pagination_invalid_cursor[/v1] PASSED [ 66%]
2023-10-23T08:24:51.1736872Z mergify_engine/tests/unit/api/test_gha_failed_jobs.py::test_api_gha_failed_jobs_get_gha_failed_job_detail PASSED [ 66%]
2023-10-23T08:24:53.0061619Z mergify_engine/tests/unit/api/test_security.py::test_bad_owner[noway-] PASSED [ 67%]
2023-10-23T08:24:54.8450411Z mergify_engine/tests/unit/api/test_security.py::test_valid_owner_repo[right123name/-ok] PASSED [ 67%]
2023-10-23T08:24:55.1233833Z mergify_engine/tests/unit/engine/test_actions_runner.py::test_get_already_merged_summary[None-None-\npull_request_rules:\n - name: Automatic merge on approval\n   conditions:\n     - and:\n       - "-draft"\n       - "author=contributor"\n   actions:\n     merge:\n       method: merge\n-] PASSED [ 68%]
2023-10-23T08:24:55.2933726Z mergify_engine/tests/unit/engine/test_actions_runner.py::test_sanitize_action_config[bot_account-sileht-{bot_account: sileht}\n] PASSED [ 68%]
2023-10-23T08:25:04.2730251Z mergify_engine/tests/unit/front/test_applications.py::test_applications_limit PASSED [ 69%]
2023-10-23T08:25:06.9253062Z mergify_engine/tests/unit/front/test_auth.py::test_auth_setup[setup_action=install-400-None-None] PASSED [ 69%]
2023-10-23T08:25:12.1416513Z mergify_engine/tests/unit/front/test_proxy_engine.py::test_engine_proxy_delete_queue_freeze[read-403-expected_json1] PASSED [ 70%]
2023-10-23T08:25:14.8724195Z mergify_engine/tests/unit/front/test_proxy_saas.py::test_saas_proxy_redirect[/front/proxy/saas/github-account/42/something-else-http://localhost:5000/engine/saas/github-account/42/something-else-http://localhost:5000/engine/saas/foo/bar-http://localhost:3000/front/proxy/saas/foo/bar] PASSED [ 70%]
2023-10-23T08:25:15.0489751Z mergify_engine/tests/unit/log_embedder/test_log_cleaner.py::test_clean_manipulating_objects_lines[2023-04-25T07:49:14.5441296Z [command]/usr/bin/git checkout --progress --force refs/remotes/pull/5770/merge-False] PASSED [ 71%]
2023-10-23T08:25:15.2220949Z mergify_engine/tests/unit/log_embedder/test_log_cleaner.py::test_lower_case[Collecting virtualenv!=20.4.5-collecting virtualenv!=20.4.5] PASSED [ 71%]
2023-10-23T08:25:15.3985280Z mergify_engine/tests/unit/log_embedder/test_log_cleaner.py::test_special_characters[\u5317\u4eb0-Bei Jing ] PASSED [ 72%]
2023-10-23T08:25:15.5745224Z mergify_engine/tests/unit/log_embedder/test_log_cleaner.py::test_clean_stopwords[test sentence merge queue praise mergify random words following hazard sun motor mechanic ball obi wan-test sentence merge queue praise mergify random words following hazard sun motor mechanic ball obi wan] PASSED [ 72%]
2023-10-23T08:25:15.7552947Z mergify_engine/tests/unit/log_embedder/test_log_cleaner.py::test_clean_non_alphanumeric_characters[toto ? tutu, tata; for frodo!!!-toto   tutu  tata  for frodo] PASSED [ 73%]
2023-10-23T08:25:16.9921135Z mergify_engine/tests/unit/log_embedder/test_service.py::test_workflow_job_from_real_life[special chars in name] PASSED [ 73%]
2023-10-23T08:25:17.2571210Z mergify_engine/tests/unit/merge_train/test_deserialization.py::test_deserialize_train[train_without_partition.yaml] PASSED [ 74%]
2023-10-23T08:25:17.5564602Z mergify_engine/tests/unit/merge_train/test_train.py::test_train_remove_head_not_merged PASSED [ 74%]
2023-10-23T08:25:17.9160915Z mergify_engine/tests/unit/merge_train/test_train.py::test_train_queue_pr_with_higher_prio_enters_in_queue_during_merging_1x5 PASSED [ 75%]
2023-10-23T08:25:18.0990618Z mergify_engine/tests/unit/merge_train/test_train.py::test_train_car_old_serialization[created-TrainCarChecksType.DRAFT-ğŸŸ  pending-CiState.PENDING-TrainCarOutcome.UNKNOWN-False-False-] PASSED [ 75%]
2023-10-23T08:25:18.4004354Z mergify_engine/tests/unit/merge_train/test_train.py::test_train_inplace_branch_update_failure PASSED [ 76%]
2023-10-23T08:25:19.1553427Z 
2023-10-23T08:25:19.1575098Z ##[error]test_ci_issue_compute_short_id

AssertionError: assert 'ONEREPO-2' == 'ONEREPO-1'
  - ONEREPO-1
  ?         ^
  + ONEREPO-2
  ?         ^
2023-10-23T08:25:19.4788502Z mergify_engine/tests/unit/models/test_ci_issue.py::test_ci_issue_compute_short_id FAILED [ 76%]
2023-10-23T08:25:19.6546388Z mergify_engine/tests/unit/models/test_github_repository.py::test_is_complete PASSED [ 77%]
2023-10-23T08:25:19.8671947Z mergify_engine/tests/unit/rules/test_condition_evaluation_result.py::test_markdown[condition1-- [ ] `author=me`] PASSED [ 77%]
2023-10-23T08:25:20.0368758Z mergify_engine/tests/unit/rules/test_filter.py::test_string PASSED       [ 78%]
2023-10-23T08:25:20.2146847Z mergify_engine/tests/unit/rules/test_filter.py::test_set_value_expanders_does_not_contain PASSED [ 78%]
2023-10-23T08:25:20.3927150Z mergify_engine/tests/unit/rules/test_filter.py::test_none PASSED         [ 79%]
2023-10-23T08:25:20.6845498Z mergify_engine/tests/unit/rules/test_filter.py::test_current_datetime_range_uncertain_date[current-datetime=2023-XX-31T00:00/2023-XX-31T23:59[Europe/Paris]-2023-01-29-2023-01-31T10:00+02:00-2023-02-02-next_refresh_before_range2-next_refresh_inside_range2-next_refresh_after_range2] PASSED [ 79%]
2023-10-23T08:25:20.8868112Z mergify_engine/tests/unit/rules/test_filter.py::test_schedule_neardatetime_filter PASSED [ 80%]
2023-10-23T08:25:21.0536118Z mergify_engine/tests/unit/rules/test_filter.py::test_list_values_filter[single value match with ">" operator] PASSED [ 80%]
2023-10-23T08:25:21.2273943Z mergify_engine/tests/unit/rules/test_get_rule_checks_status.py::test_rules_checks_status_expected_failure PASSED [ 81%]
2023-10-23T08:25:21.3921144Z mergify_engine/tests/unit/rules/test_merge.py::test_merge_raw_configs_src_empty PASSED [ 81%]
2023-10-23T08:25:21.5814481Z mergify_engine/tests/unit/rules/test_parser.py::test_parse[schedule!=Mon-Fri 12:00-23:59-result1] PASSED [ 82%]
2023-10-23T08:25:21.7757890Z mergify_engine/tests/unit/rules/test_parser.py::test_parse[base:main-result2] PASSED [ 82%]
2023-10-23T08:25:21.9929402Z mergify_engine/tests/unit/rules/test_parser.py::test_parse[#commits=2-result15] PASSED [ 83%]
2023-10-23T08:25:22.1932697Z mergify_engine/tests/unit/rules/test_parser.py::test_parse[commits[-1].author~=hellothere-result18] PASSED [ 83%]
2023-10-23T08:25:22.3954309Z mergify_engine/tests/unit/rules/test_parser.py::test_parse[merged-at<=2012-01-14T20:32:00+00:00-result22] PASSED [ 84%]
2023-10-23T08:25:22.5974083Z mergify_engine/tests/unit/rules/test_parser.py::test_parse[assignee: sileht-result40] PASSED [ 84%]
2023-10-23T08:25:22.7946653Z mergify_engine/tests/unit/rules/test_parser.py::test_parse[status-success="my double quoted ci"-result60] PASSED [ 85%]
2023-10-23T08:25:22.9885059Z mergify_engine/tests/unit/rules/test_parser.py::test_parse[check-skipped="my double quoted ci"-result69] PASSED [ 85%]
2023-10-23T08:25:23.1539833Z mergify_engine/tests/unit/rules/test_parser.py::test_parse_invalid[#conflict-`#` modifier is invalid for attribute: `conflict`] PASSED [ 86%]
2023-10-23T08:25:23.3226777Z mergify_engine/tests/unit/rules/test_parser.py::test_parse_invalid[-schedule=MON-friday 10:02-22:35-`-` modifier is invalid for attribute: `schedule`] PASSED [ 86%]
2023-10-23T08:25:23.5088613Z mergify_engine/tests/unit/rules/test_parser.py::test_parse_invalid[foobar-Invalid attribute] PASSED [ 87%]
2023-10-23T08:25:23.6815244Z mergify_engine/tests/unit/rules/test_parser.py::test_parse_invalid[commits-behind-`#` modifier is required for attribute: `commits-behind`] PASSED [ 87%]
2023-10-23T08:25:23.8633697Z mergify_engine/tests/unit/rules/test_parser.py::test_parse_invalid[sender={{ author-Invalid template] PASSED [ 88%]
2023-10-23T08:25:24.0358808Z mergify_engine/tests/unit/rules/test_parser.py::test_validate_jinja_template[{# comment-Invalid template] PASSED [ 88%]
2023-10-23T08:25:24.3422045Z mergify_engine/tests/unit/rules/test_priority_rules.py::test_queue_effective_priority[labels9-15] PASSED [ 89%]
2023-10-23T08:25:24.5193125Z mergify_engine/tests/unit/rules/test_queue_condition_evaluation_result.py::test_condition_json_serialization PASSED [ 89%]
2023-10-23T08:25:24.6949731Z mergify_engine/tests/unit/rules/test_rules.py::test_pull_request_rule[valid1] PASSED [ 90%]
2023-10-23T08:25:24.9887152Z mergify_engine/tests/unit/rules/test_rules.py::test_get_mergify_config[\n            pull_request_rules:\n              - name: ahah\n                conditions:\n                - base=main\n                actions:\n                  comment:\n                    message: |\n                      This pull request has been approved by\n                      {% for name in approved_reviews_by %}\n                      @{{ name }}\n                      {% endfor %}\n            ] PASSED [ 90%]
2023-10-23T08:25:25.2572585Z mergify_engine/tests/unit/rules/test_rules.py::test_user_configuration_schema PASSED [ 91%]
2023-10-23T08:25:26.3792741Z mergify_engine/tests/unit/rules/test_rules.py::test_extends_without_database_cache PASSED [ 91%]
2023-10-23T08:25:26.5580452Z mergify_engine/tests/unit/rules/test_rules.py::test_pull_request_rule_schema_invalid[invalid3-extra keys not allowed @ data\\[0\\]\\['conditions'\\]\\[0\\]\\['foo'\\]] PASSED [ 92%]
2023-10-23T08:25:26.7277221Z mergify_engine/tests/unit/rules/test_rules.py::test_merge_config PASSED  [ 92%]
2023-10-23T08:25:26.9271526Z mergify_engine/tests/unit/rules/test_rules.py::test_action_queue_with_no_default_queue PASSED [ 93%]
2023-10-23T08:25:27.0940666Z mergify_engine/tests/unit/rules/test_rules.py::test_rule_condition_operator[condition4-!=] PASSED [ 93%]
2023-10-23T08:25:27.3702779Z mergify_engine/tests/unit/rules/test_rules_evaluator.py::test_pull_request_rules_evaluator[\npull_request_rules:\n  - name: "head match and label match"\n    conditions:\n    - head=match\n    - label=match\n    actions: {}\n-False] PASSED [ 94%]
2023-10-23T08:25:27.6443769Z mergify_engine/tests/unit/rules/test_rules_evaluator.py::test_pull_request_rules_evaluator[\npull_request_rules:\n  - name: only-checks\n    conditions:\n      - check-success=test\n    actions: {}\n-False] PASSED [ 94%]
2023-10-23T08:25:27.8195150Z mergify_engine/tests/unit/rules/test_tenary_filter.py::test_operator_negate[UnknownType._MARKER_UNKNOWN_OR_FALSE-UnknownType._MARKER_UNKNOWN_OR_TRUE] PASSED [ 95%]
2023-10-23T08:25:27.9982049Z mergify_engine/tests/unit/rules/test_tenary_filter.py::test_operator_any[values3-True] PASSED [ 95%]
2023-10-23T08:25:28.1705947Z mergify_engine/tests/unit/rules/test_tenary_filter.py::test_operator_all[values8-False] PASSED [ 96%]
2023-10-23T08:25:28.3406486Z mergify_engine/tests/unit/rules/test_tenary_filter.py::test_operator_all[values11-False] PASSED [ 96%]
2023-10-23T08:25:28.5098050Z mergify_engine/tests/unit/rules/test_types.py::test_jinja2_valid[{{author}}] PASSED [ 97%]
2023-10-23T08:25:28.6788011Z mergify_engine/tests/unit/rules/test_types.py::test_jinja2_invalid PASSED [ 97%]
2023-10-23T08:25:28.8466725Z mergify_engine/tests/unit/rules/test_types.py::test_github_login_ok[foobaz] PASSED [ 98%]
2023-10-23T08:25:29.0220615Z mergify_engine/tests/unit/rules/test_types.py::test_github_team_ok[foobar-None-foobar] PASSED [ 98%]
2023-10-23T08:25:29.2233540Z mergify_engine/tests/unit/rules/test_types.py::test_github_team_nok[foo/-foobar-GitHub team contains invalid characters] PASSED [ 99%]
2023-10-23T08:25:29.4546831Z mergify_engine/tests/unit/web/test_estimated_time_to_merge.py::test_compute_estimation_no_batch_second_pr PASSED [ 99%]
2023-10-23T08:25:29.6630881Z mergify_engine/tests/unit/web/test_middlewares.py::test_sudo_middleware PASSED [100%]
2023-10-23T08:25:29.6632382Z 
2023-10-23T08:25:29.6633906Z [pytest-split] Stored test durations in engine-ci-test-durations
2023-10-23T08:25:29.6634647Z 
2023-10-23T08:25:29.6635497Z 
2023-10-23T08:25:29.6635815Z =================================== FAILURES ===================================
2023-10-23T08:25:29.6636757Z ________________________ test_ci_issue_compute_short_id ________________________
2023-10-23T08:25:29.6637398Z 
2023-10-23T08:25:29.6638089Z populated_db = <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x7fa7d856a410>
2023-10-23T08:25:29.6638921Z 
2023-10-23T08:25:29.6639245Z     @pytest.mark.populated_db_datasets("AccountAndRepo")
2023-10-23T08:25:29.6640084Z     async def test_ci_issue_compute_short_id(
2023-10-23T08:25:29.6640883Z         populated_db: sqlalchemy.ext.asyncio.AsyncSession,
2023-10-23T08:25:29.6641656Z     ) -> None:
2023-10-23T08:25:29.6642107Z         issue = await CiIssue.insert(
2023-10-23T08:25:29.6642687Z             populated_db,
2023-10-23T08:25:29.6643315Z             repository_id=github_types.GitHubRepositoryIdType(
2023-10-23T08:25:29.6644134Z                 DbPopulator.internal_ref["OneRepo"]
2023-10-23T08:25:29.6644768Z             ),
2023-10-23T08:25:29.6645126Z         )
2023-10-23T08:25:29.6645475Z     
2023-10-23T08:25:29.6645983Z >       assert issue.short_id == "ONEREPO-1"
2023-10-23T08:25:29.6646809Z E       AssertionError: assert 'ONEREPO-2' == 'ONEREPO-1'
2023-10-23T08:25:29.6647872Z E         - ONEREPO-1
2023-10-23T08:25:29.6648316Z E         ?         ^
2023-10-23T08:25:29.6648748Z E         + ONEREPO-2
2023-10-23T08:25:29.6649176Z E         ?         ^
2023-10-23T08:25:29.6649445Z 
2023-10-23T08:25:29.6649893Z mergify_engine/tests/unit/models/test_ci_issue.py:23: AssertionError
2023-10-23T08:25:29.6650991Z ---------------------------- Captured stdout setup -----------------------------
2023-10-23T08:25:29.6652754Z 2023-10-23 08:25:18,531 [2898] INFO     mergify_engine.logs: [1m##################### CONFIGURATION ######################[0m
2023-10-23T08:25:29.6654306Z 2023-10-23 08:25:18,532 [2898] INFO     mergify_engine.logs: [1m* OPENAI_API_TOKEN: [0m
2023-10-23T08:25:29.6655784Z 2023-10-23 08:25:18,532 [2898] INFO     mergify_engine.logs: [1m* LOG_EMBEDDER_ENABLED_ORGS: [][0m
2023-10-23T08:25:29.6657633Z 2023-10-23 08:25:18,532 [2898] INFO     mergify_engine.logs: [1m* LOG_EMBEDDER_GCS_BUCKET: bucket-ea8c832b-1f36-4668-adb7-71631e80822e[0m
2023-10-23T08:25:29.6659821Z 2023-10-23 08:25:18,532 [2898] INFO     mergify_engine.logs: [1m* LOG_EMBEDDER_GCS_CREDENTIALS: **********[0m
2023-10-23T08:25:29.6661474Z 2023-10-23 08:25:18,532 [2898] INFO     mergify_engine.logs: [1m* SHARED_STREAM_PROCESSES: 1[0m
2023-10-23T08:25:29.6662890Z 2023-10-23 08:25:18,532 [2898] INFO     mergify_engine.logs: [1m* DEDICATED_STREAM_PROCESSES: 1[0m
2023-10-23T08:25:29.6664630Z 2023-10-23 08:25:18,532 [2898] INFO     mergify_engine.logs: [1m* SHARED_STREAM_TASKS_PER_PROCESS: 7[0m
2023-10-23T08:25:29.6707528Z 2023-10-23 08:25:18,532 [2898] INFO     mergify_engine.logs: [1m* BUCKET_PROCESSING_MAX_SECONDS: 100000[0m
2023-10-23T08:25:29.6709730Z 2023-10-23 08:25:18,532 [2898] INFO     mergify_engine.logs: [1m* MAX_GITTER_CONCURRENT_JOBS: 20[0m
2023-10-23T08:25:29.6711288Z 2023-10-23 08:25:18,532 [2898] INFO     mergify_engine.logs: [1m* CI_DOWNLOAD_FREQUENCY: 1:00:00[0m
2023-10-23T08:25:29.6712892Z 2023-10-23 08:25:18,532 [2898] INFO     mergify_engine.logs: [1m* CI_EVENT_PROCESSING_BATCH_SIZE: 1000[0m
2023-10-23T08:25:29.6714468Z 2023-10-23 08:25:18,532 [2898] INFO     mergify_engine.logs: [1m* CI_EVENT_INGESTION: True[0m
2023-10-23T08:25:29.6715953Z 2023-10-23 08:25:18,532 [2898] INFO     mergify_engine.logs: [1m* CI_DOWNLOAD_BATCH_SIZE: 50[0m
2023-10-23T08:25:29.6717551Z 2023-10-23 08:25:18,532 [2898] INFO     mergify_engine.logs: [1m* GITHUB_IN_POSTGRES_EVENTS_INGESTION: True[0m
2023-10-23T08:25:29.6719324Z 2023-10-23 08:25:18,532 [2898] INFO     mergify_engine.logs: [1m* GITHUB_IN_POSTGRES_PROCESSING_BATCH_SIZE: 1000[0m
2023-10-23T08:25:29.6721037Z 2023-10-23 08:25:18,532 [2898] INFO     mergify_engine.logs: [1m* EVENTLOG_EVENTS_REDIS_INGESTION: True[0m
2023-10-23T08:25:29.6722524Z 2023-10-23 08:25:18,532 [2898] INFO     mergify_engine.logs: [1m* SAAS_MODE: True[0m
2023-10-23T08:25:29.6724074Z 2023-10-23 08:25:18,532 [2898] INFO     mergify_engine.logs: [1m* SUBSCRIPTION_URL: http://localhost:5000[0m
2023-10-23T08:25:29.6725810Z 2023-10-23 08:25:18,532 [2898] INFO     mergify_engine.logs: [1m* ENGINE_TO_SHADOW_OFFICE_API_KEY: **********[0m
2023-10-23T08:25:29.6727386Z 2023-10-23 08:25:18,532 [2898] INFO     mergify_engine.logs: [1m* SUBSCRIPTION_TOKEN: None[0m
2023-10-23T08:25:29.6729904Z 2023-10-23 08:25:18,533 [2898] INFO     mergify_engine.logs: [1m* SHADOW_OFFICE_TO_ENGINE_API_KEY: **********[0m
2023-10-23T08:25:29.6731757Z 2023-10-23 08:25:18,533 [2898] INFO     mergify_engine.logs: [1m* SHADOW_OFFICE_TO_ENGINE_API_KEY_PRE_ROTATION: None[0m
2023-10-23T08:25:29.6733357Z 2023-10-23 08:25:18,533 [2898] INFO     mergify_engine.logs: [1m* ACCOUNT_TOKENS: [][0m
2023-10-23T08:25:29.6734779Z 2023-10-23 08:25:18,533 [2898] INFO     mergify_engine.logs: [1m* APPLICATION_APIKEYS: {}[0m
2023-10-23T08:25:29.6736356Z 2023-10-23 08:25:18,533 [2898] INFO     mergify_engine.logs: [1m* DASHBOARD_UI_STATIC_FILES_DIRECTORY: None[0m
2023-10-23T08:25:29.6738132Z 2023-10-23 08:25:18,533 [2898] INFO     mergify_engine.logs: [1m* DASHBOARD_UI_FRONT_URL: http://localhost:3000[0m
2023-10-23T08:25:29.6740308Z 2023-10-23 08:25:18,533 [2898] INFO     mergify_engine.logs: [1m* DASHBOARD_UI_SESSION_EXPIRATION_HOURS: 24[0m
2023-10-23T08:25:29.6741764Z 2023-10-23 08:25:18,533 [2898] INFO     mergify_engine.logs: [1m* DASHBOARD_UI_FEATURES: [][0m
2023-10-23T08:25:29.6743422Z 2023-10-23 08:25:18,533 [2898] INFO     mergify_engine.logs: [1m* DASHBOARD_UI_DATADOG_CLIENT_TOKEN: None[0m
2023-10-23T08:25:29.6745285Z 2023-10-23 08:25:18,533 [2898] INFO     mergify_engine.logs: [1m* DASHBOARD_UI_GITHUB_IDS_ALLOWED_TO_SUDO: [][0m
2023-10-23T08:25:29.6746933Z 2023-10-23 08:25:18,533 [2898] INFO     mergify_engine.logs: [1m* GITHUB_URL: https://github.com[0m
2023-10-23T08:25:29.6748370Z 2023-10-23 08:25:18,533 [2898] INFO     mergify_engine.logs: [1m* GITHUB_APP_ID: 0[0m
2023-10-23T08:25:29.6749986Z 2023-10-23 08:25:18,533 [2898] INFO     mergify_engine.logs: [1m* GITHUB_PRIVATE_KEY: **********[0m
2023-10-23T08:25:29.6751493Z 2023-10-23 08:25:18,533 [2898] INFO     mergify_engine.logs: [1m* GITHUB_OAUTH_CLIENT_ID: X[0m
2023-10-23T08:25:29.6753081Z 2023-10-23 08:25:18,533 [2898] INFO     mergify_engine.logs: [1m* GITHUB_OAUTH_CLIENT_SECRET: **********[0m
2023-10-23T08:25:29.6754679Z 2023-10-23 08:25:18,533 [2898] INFO     mergify_engine.logs: [1m* GITHUB_WEBHOOK_SECRET: **********[0m
2023-10-23T08:25:29.6756323Z 2023-10-23 08:25:18,533 [2898] INFO     mergify_engine.logs: [1m* GITHUB_WEBHOOK_SECRET_PRE_ROTATION: None[0m
2023-10-23T08:25:29.6757971Z 2023-10-23 08:25:18,533 [2898] INFO     mergify_engine.logs: [1m* GITHUB_WEBHOOK_FORWARD_URL: None[0m
2023-10-23T08:25:29.6759575Z 2023-10-23 08:25:18,533 [2898] INFO     mergify_engine.logs: [1m* GITHUB_WEBHOOK_FORWARD_EVENT_TYPES: [][0m
2023-10-23T08:25:29.6761248Z 2023-10-23 08:25:18,533 [2898] INFO     mergify_engine.logs: [1m* REDIS_SSL_VERIFY_MODE_CERT_NONE: False[0m
2023-10-23T08:25:29.6763071Z 2023-10-23 08:25:18,533 [2898] INFO     mergify_engine.logs: [1m* REDIS_CRYPTO_SECRET_CURRENT: **********[0m
2023-10-23T08:25:29.6764772Z 2023-10-23 08:25:18,533 [2898] INFO     mergify_engine.logs: [1m* REDIS_CRYPTO_SECRET_OLD: None[0m
2023-10-23T08:25:29.6766216Z 2023-10-23 08:25:18,533 [2898] INFO     mergify_engine.logs: [1m* STORAGE_URL: None[0m
2023-10-23T08:25:29.6767879Z 2023-10-23 08:25:18,533 [2898] INFO     mergify_engine.logs: [1m* DEFAULT_REDIS_URL: redis://localhost:6363[0m
2023-10-23T08:25:29.6769517Z 2023-10-23 08:25:18,534 [2898] INFO     mergify_engine.logs: [1m* ENV_STREAM_URL: redis://localhost:6363?db=3[0m
2023-10-23T08:25:29.6771168Z 2023-10-23 08:25:18,534 [2898] INFO     mergify_engine.logs: [1m* ENV_EVENTLOGS_URL: redis://localhost:6363?db=8[0m
2023-10-23T08:25:29.6772784Z 2023-10-23 08:25:18,534 [2898] INFO     mergify_engine.logs: [1m* ENV_QUEUE_URL: redis://localhost:6363?db=4[0m
2023-10-23T08:25:29.6774393Z 2023-10-23 08:25:18,534 [2898] INFO     mergify_engine.logs: [1m* ENV_CACHE_URL: redis://localhost:6363?db=2[0m
2023-10-23T08:25:29.6776498Z 2023-10-23 08:25:18,534 [2898] INFO     mergify_engine.logs: [1m* ENV_TEAM_PERMISSIONS_CACHE_URL: redis://localhost:6363?db=6[0m
2023-10-23T08:25:29.6778450Z 2023-10-23 08:25:18,534 [2898] INFO     mergify_engine.logs: [1m* ENV_TEAM_MEMBERS_CACHE_URL: redis://localhost:6363?db=5[0m
2023-10-23T08:25:29.6780384Z 2023-10-23 08:25:18,534 [2898] INFO     mergify_engine.logs: [1m* ENV_USER_PERMISSIONS_CACHE_URL: redis://localhost:6363?db=7[0m
2023-10-23T08:25:29.6782303Z 2023-10-23 08:25:18,534 [2898] INFO     mergify_engine.logs: [1m* ENV_ACTIVE_USERS_URL: redis://localhost:6363?db=9[0m
2023-10-23T08:25:29.6784131Z 2023-10-23 08:25:18,534 [2898] INFO     mergify_engine.logs: [1m* ENV_STATISTICS_URL: redis://localhost:6363?db=10[0m
2023-10-23T08:25:29.6785994Z 2023-10-23 08:25:18,534 [2898] INFO     mergify_engine.logs: [1m* ENV_AUTHENTICATION_URL: redis://localhost:6363?db=11[0m
2023-10-23T08:25:29.6787561Z 2023-10-23 08:25:18,534 [2898] INFO     mergify_engine.logs: [1m* LOG_LEVEL: 20[0m
2023-10-23T08:25:29.6789120Z 2023-10-23 08:25:18,534 [2898] INFO     mergify_engine.logs: [1m* LOG_STDOUT: True[0m
2023-10-23T08:25:29.6790739Z 2023-10-23 08:25:18,534 [2898] INFO     mergify_engine.logs: [1m* LOG_STDOUT_LEVEL: None[0m
2023-10-23T08:25:29.6792134Z 2023-10-23 08:25:18,534 [2898] INFO     mergify_engine.logs: [1m* LOG_DATADOG: False[0m
2023-10-23T08:25:29.6793523Z 2023-10-23 08:25:18,534 [2898] INFO     mergify_engine.logs: [1m* LOG_DATADOG_LEVEL: None[0m
2023-10-23T08:25:29.6795142Z 2023-10-23 08:25:18,534 [2898] INFO     mergify_engine.logs: [1m* LOG_DEBUG_LOGGER_NAMES: [][0m
2023-10-23T08:25:29.6796552Z 2023-10-23 08:25:18,535 [2898] INFO     mergify_engine.logs: [1m* SENTRY_URL: None[0m
2023-10-23T08:25:29.6797947Z 2023-10-23 08:25:18,535 [2898] INFO     mergify_engine.logs: [1m* SENTRY_ENVIRONMENT: test[0m
2023-10-23T08:25:29.6799783Z 2023-10-23 08:25:18,535 [2898] INFO     mergify_engine.logs: [1m* DATABASE_URL: postgresql+psycopg://***@localhost:5432/postgres0[0m
2023-10-23T08:25:29.6801739Z 2023-10-23 08:25:18,535 [2898] INFO     mergify_engine.logs: [1m* DATABASE_POOL_SIZES: {'worker': 15, 'web': 55}[0m
2023-10-23T08:25:29.6803520Z 2023-10-23 08:25:18,535 [2898] INFO     mergify_engine.logs: [1m* DATABASE_OAUTH_TOKEN_SECRET_CURRENT: **********[0m
2023-10-23T08:25:29.6806034Z 2023-10-23 08:25:18,535 [2898] INFO     mergify_engine.logs: [1m* DATABASE_OAUTH_TOKEN_SECRET_OLD: None[0m
2023-10-23T08:25:29.6807621Z 2023-10-23 08:25:18,535 [2898] INFO     mergify_engine.logs: [1m* HTTP_TRUSTED_HOSTS: ['*'][0m
2023-10-23T08:25:29.6809029Z 2023-10-23 08:25:18,535 [2898] INFO     mergify_engine.logs: [1m* API_ENABLE: True[0m
2023-10-23T08:25:29.6810523Z 2023-10-23 08:25:18,535 [2898] INFO     mergify_engine.logs: [1m* REDIS_STREAM_WEB_MAX_CONNECTIONS: 50[0m
2023-10-23T08:25:29.6812145Z 2023-10-23 08:25:18,535 [2898] INFO     mergify_engine.logs: [1m* REDIS_CACHE_WEB_MAX_CONNECTIONS: 50[0m
2023-10-23T08:25:29.6813766Z 2023-10-23 08:25:18,535 [2898] INFO     mergify_engine.logs: [1m* REDIS_QUEUE_WEB_MAX_CONNECTIONS: 50[0m
2023-10-23T08:25:29.6815427Z 2023-10-23 08:25:18,535 [2898] INFO     mergify_engine.logs: [1m* REDIS_EVENTLOGS_WEB_MAX_CONNECTIONS: 50[0m
2023-10-23T08:25:29.6817053Z 2023-10-23 08:25:18,535 [2898] INFO     mergify_engine.logs: [1m* REDIS_STATS_WEB_MAX_CONNECTIONS: 50[0m
2023-10-23T08:25:29.6818722Z 2023-10-23 08:25:18,535 [2898] INFO     mergify_engine.logs: [1m* REDIS_ACTIVE_USERS_WEB_MAX_CONNECTIONS: 50[0m
2023-10-23T08:25:29.6820471Z 2023-10-23 08:25:18,535 [2898] INFO     mergify_engine.logs: [1m* REDIS_AUTHENTICATION_WEB_MAX_CONNECTIONS: 50[0m
2023-10-23T08:25:29.6821977Z 2023-10-23 08:25:18,535 [2898] INFO     mergify_engine.logs: [1m* VERSION: dev[0m
2023-10-23T08:25:29.6823241Z 2023-10-23 08:25:18,535 [2898] INFO     mergify_engine.logs: [1m* SHA: unknown[0m
2023-10-23T08:25:29.6824673Z 2023-10-23 08:25:18,535 [2898] INFO     mergify_engine.logs: [1m* HEALTHCHECK_SHARED_TOKEN: None[0m
2023-10-23T08:25:29.6826428Z 2023-10-23 08:25:18,535 [2898] INFO     mergify_engine.logs: [1m* ALLOW_REQUIRE_BRANCH_PROTECTION_QUEUE_ATTRIBUTE: True[0m
2023-10-23T08:25:29.6833389Z 2023-10-23 08:25:18,535 [2898] INFO     mergify_engine.logs: [1m* PATH: /home/runner/.cache/pypoetry/virtualenvs/mergify-engine-cHHEL7M--py3.11/bin:/opt/hostedtoolcache/Python/3.11.4/x64/bin:/opt/hostedtoolcache/Python/3.11.4/x64:/home/runner/.local/bin:/opt/pipx_bin:/home/runner/.cargo/bin:/home/runner/.config/composer/vendor/bin:/usr/local/.ghcup/bin:/home/runner/.dotnet/tools:/snap/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin[0m
2023-10-23T08:25:29.6839204Z 2023-10-23 08:25:18,536 [2898] INFO     mergify_engine.logs: [1m##########################################################[0m
2023-10-23T08:25:29.6841002Z ============================= slowest 10 durations =============================
2023-10-23T08:25:29.6842503Z 12.56s call     mergify_engine/tests/functional/api/test_queue.py::TestQueueApi::test_estimated_time_of_merge_multiple_pr_waiting_batch
2023-10-23T08:25:29.6844697Z 10.05s call     mergify_engine/tests/functional/actions/test_queue.py::TestQueueAction::test_batch_queue
2023-10-23T08:25:29.6846266Z 9.10s call     mergify_engine/tests/functional/api/test_queue.py::TestQueueApi::test_get_queues
2023-10-23T08:25:29.6847947Z 7.10s call     mergify_engine/tests/functional/actions/test_queue.py::TestQueueAction::test_queue_pr_priority_no_interrupt
2023-10-23T08:25:29.6850196Z 6.78s call     mergify_engine/tests/functional/actions/test_queue.py::TestQueueAction::test_queue_ci_timeout_inplace_with_only_pull_request_rules
2023-10-23T08:25:29.6852059Z 6.47s call     mergify_engine/tests/unit/front/test_applications.py::test_applications_limit
2023-10-23T08:25:29.6853970Z 6.19s call     mergify_engine/tests/functional/api/test_queue_freeze.py::TestQueueFreeze::test_queue_freeze_priority_with_empty_frozen_default_queue
2023-10-23T08:25:29.6856380Z 6.01s call     mergify_engine/tests/functional/test_branch_protection.py::TestBranchProtection::test_strict_status_check_with_rebase_update_method_and_no_bot_account
2023-10-23T08:25:29.6858900Z 5.93s call     mergify_engine/tests/functional/actions/test_queue.py::TestQueueAction::test_queue_inplace_with_merge_update_method_and_different_bot_account
2023-10-23T08:25:29.6861622Z 5.86s call     mergify_engine/tests/functional/api/test_statistics_with_partition_rules.py::TestStatisticsWithPartitionsEndpoints::test_time_to_merge_with_partitions_endpoint_with_freeze
2023-10-23T08:25:29.6863561Z =========================== short test summary info ============================
2023-10-23T08:25:29.6865403Z FAILED mergify_engine/tests/unit/models/test_ci_issue.py::test_ci_issue_compute_short_id - AssertionError: assert 'ONEREPO-2' == 'ONEREPO-1'
2023-10-23T08:25:29.6866821Z   - ONEREPO-1
2023-10-23T08:25:29.6867215Z   ?         ^
2023-10-23T08:25:29.6867596Z   + ONEREPO-2
2023-10-23T08:25:29.6867990Z   ?         ^
2023-10-23T08:25:29.6868636Z ========== 1 failed, 202 passed, 1823 deselected in 386.55s (0:06:26) ==========
2023-10-23T08:25:37.2882510Z ##[error]Process completed with exit code 1.
